function initCustomHover(){jQuery("ul.tab-content>li").touchHover()}function initTabs(){jQuery("ul.tabset").contentTabs({addToParent:!0,tabLinks:"a",attrib:"data-tab"})}function initScrollTop(){function u(){var u=n.scrollTop();u>r?i.addClass(t):i.removeClass(t)}var n=jQuery(window),t="scrollOutUp",r=800,i=jQuery("#wrapper");n.on("scroll",u)}function initOpenClose(){jQuery(".advance-search").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"slide"})}function initAccordion(){jQuery("ul.accordion").slideAccordion({addClassBeforeAnimation:!0,opener:"a.opener",slider:".slide",animSpeed:300});jQuery("ul.accordion").slideAccordion({opener:"a.opener",slider:".slide1",animSpeed:300})}function initLightbox(){jQuery('a.lightbox, a[rel*="lightbox"]').fancybox({loop:!1,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.65)"}}},afterLoad:function(n){if(n.href.indexOf("#")===0)jQuery(n.href).find("a.close").off("click.fb").on("click.fb",function(n){n.preventDefault();jQuery.fancybox.close()})}})}function initMobileNav(){jQuery("body").mobileNav({hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".nav-opener",menuDrop:".nav-drop"})}function initAnchors(){new SmoothScroll({anchorLinks:".btn-top"})}function GetJSONAntiForgeryToken(){var t=$('input[name="__RequestVerificationToken"]').val(),n={};return n.__RequestVerificationToken=t,n}function abort(){$.each(xhrPool,function(n,t){t.abort()})}function UnBlockNavigation(){$("a").off(".processbeforenavigate");$("button").off(".processbeforenavigate");$(".chapter-trigger").off(".processbeforenavigate")}function BlockNavigation(){$("a").onFirst("click.processbeforenavigate",function(n){if(!$(this).hasClass("forceNavigate")&&CheckForSave())return n.stopImmediatePropagation(),DisplayConfirmDialog(this),!1});$("button").onFirst("click.processbeforenavigate",function(n){if(!$(this).hasClass("forceNavigate")&&CheckForSave())return n.stopImmediatePropagation(),DisplayConfirmDialog(this),!1});$(".chapter-trigger").onFirst("click.processbeforenavigate",function(n){if(!$(this).hasClass("forceNavigate")&&CheckForSave())return n.stopImmediatePropagation(),DisplayConfirmDialog(this),!1});$(".listItemButton").onFirst("click.processbeforenavigate",function(n){if(!$(this).hasClass("forceNavigate")&&CheckForSave())return n.stopImmediatePropagation(),DisplayConfirmDialog(this),!1})}function CheckForSave(){var n=!1,t=!1;return $(".customListCheckBox").each(function(){$(this).hasClass("checked")?n=!0:$(this).hasClass("inListChecked")&&(t=!0)}),n||t?!0:!1}function Unsaved_Dialog_DiscardAndContinue(n){return $.fancybox.close(!0),UnBlockNavigation(),n.click(),BlockNavigation(),DeactivateSaveButtons(),!0}function Unsaved_Dialog_SaveAndContinue(n){return $.fancybox.close(!0),DeleteFromList($("#DeleteFromListButton")),SaveToList($("#SaveToListButton")),UnBlockNavigation(),n.click(),BlockNavigation(),DeactivateSaveButtons(),!0}function DisplayConfirmDialog(n){$.fancybox.open({href:"#dialog-confirm",type:"inline",autoSize:!0,topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterShow:function(){$("#Unsaved_Dialog_SaveAndContinue").off("click");$("#Unsaved_Dialog_SaveAndContinue").on("click",function(){Unsaved_Dialog_SaveAndContinue(n)});$("#Unsaved_Dialog_DiscardAndContinue").off("click");$("#Unsaved_Dialog_DiscardAndContinue").on("click",function(){Unsaved_Dialog_DiscardAndContinue(n)})},helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})}function ShowCustomList(){return $(".customListButton").length&&$(".customListButton").hasClass("active")?!0:!1}function HideListSelector(){$(".customListButton").toggleClass("active");$(".customListControlsLine").toggleClass("active");$("#stickyCustomList").removeClass("active");$("#StartNewListButton").removeClass("active");$("#newListControls").hide();$(".customListShadow").hide();HideListContent();nfcssApp.refresh()}function ShowListSelector(){ResetCurrentList();$(".customListButton").toggleClass("active");$(".customListControlsLine").toggleClass("active");nfcssApp.refresh();$("#stickyCustomList").addClass("active");$("#StartNewListButton").addClass("active");$(".customListShadow").show()}function ClearCurrentList(){$.ajax({type:"POST",url:"/CustomList/ClearCurrentList",async:!1,headers:GetJSONAntiForgeryToken(),success:function(){},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function ResetCurrentList(){$("#customListControlsLine").empty();$.ajax({type:"GET",url:"/CustomList/ListSelector",success:function(n){$("#customListControlsLine").append(n);PopulateStickyCustomList()},async:!1,error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function firstList(){$("#newListName").val().trim()==""?($("#newListName").addClass("error"),$("#newListName").val(""),$("#newListName").attr("placeholder","List Name Required.")):$.ajax({type:"POST",url:"/CustomList/FirstList?listName="+$("#newListName").val(),async:!1,headers:GetJSONAntiForgeryToken(),success:function(n){$("#customListControlsLine").empty();$("#customListControlsLine").append(n)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function HideListContent(){$("#showListButton").removeClass("active");$("#showListButton").text("SHOW LIST");$("#showListButtons").hide();$("#customListDisplay").empty();$("#listNotesDisplay").hide();$("#listRenameError").hide();$("#renameListDisplay").hide();$("#deleteConfirmDisplay").hide();$("#customDeleteButton").removeClass("hide");$(".customListShadow").removeClass("active")}function ShowListContent(n){var t;t=typeof n=="undefined"||n===null?!0:n;$("#showListButton").addClass("active");$("#showListButton").text("HIDE LIST");$("#showListButtons").show();$(".customListShadow").addClass("active");GetList(t)}function ShowList(n){var t;t=typeof n=="undefined"||n===null?!0:n;$("#showListButton").hasClass("active")?HideListContent():ShowListContent(t)}function GetList(n){var t;t=typeof n=="undefined"||n===null?!0:n;$("#showListButton").hasClass("active")&&$.ajax({type:"GET",url:"/CustomList/GetList?id="+$("#listSelector").val(),async:!1,success:function(n){$("#customListDisplay").empty();$("#customListDisplay").append(n);t&&Recheck()},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function Recheck(){$(".inListChecked").each(function(){$("div[data-value='"+$(this).data("value")+"']").each(function(){$(this).hasClass("inList")&&!$(this).hasClass("inListChecked")&&$(this).addClass("inListChecked")})})}function CheckChildren(n,t,i){n!=""&&$("div[data-parent='"+n+"']").each(function(){i=="inListChecked"?$("div[data-value='"+$(this).data("value")+"']").each(function(){t?$(this).hasClass(i)||$(this).addClass(i):$(this).removeClass(i)}):t?$(this).hasClass(i)||$(this).addClass(i):$(this).removeClass(i);CheckChildren($(this).data("value"),t,i)})}function ToggleSaveButtons(){var n=!1,t=!1;$(".customListCheckBox").each(function(){$(this).hasClass("checked")?n=!0:$(this).hasClass("inListChecked")&&(t=!0)});n?$("#SaveToListButton").hasClass("active")||($("#SaveToListButton").addClass("active"),$("#StickySaveToListButton").addClass("active")):($("#SaveToListButton").removeClass("active"),$("#StickySaveToListButton").removeClass("active"));t?$("#DeleteFromListButton").hasClass("active")||($("#DeleteFromListButton").addClass("active"),$("#StickyDeleteFromListButton").addClass("active")):($("#DeleteFromListButton").removeClass("active"),$("#StickyDeleteFromListButton").removeClass("active"))}function DeactivateSaveButtons(){$("#SaveToListButton").removeClass("active");$("#StickySaveToListButton").removeClass("active");$("#DeleteFromListButton").removeClass("active");$("#StickyDeleteFromListButton").removeClass("active");$(".customListCheckBox").each(function(){$(this).hasClass("inListChecked")&&$(this).removeClass("inListChecked")})}function CustomListCheckBoxCheck(n){$(n).hasClass("inList")?$("div[data-value='"+$(n).data("value")+"']").each(function(){$(this).toggleClass("inListChecked")}):$(n).toggleClass("checked");$(n).hasClass("inList")?CheckChildren($(n).data("value"),$(n).hasClass("inListChecked"),"inListChecked"):CheckChildren($(n).data("value"),$(n).hasClass("checked"),"checked");ToggleSaveButtons()}function SaveToList(n){if($(n).hasClass("active")){var t={"sections[]":[]};$(".customListCheckBox.checked").each(function(){t["sections[]"].push($(this).data("value"))});$.ajax({type:"POST",url:"/CustomList/SaveToList?id="+$("#listSelector").val(),data:t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(n){$(".customListCheckBox.checked").each(function(){$(this).removeClass("checked");$(this).addClass("inList")});ToggleSaveButtons();GetList();UpdateCustomListSavedTime(n.updated)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}}function DeleteFromList(n){if($(n).hasClass("active")){var t={"sections[]":[]};$(".customListCheckBox.inListChecked").each(function(){t["sections[]"].push($(this).data("value"))});$.ajax({type:"POST",url:"/CustomList/DeleteFromList?id="+$("#listSelector").val(),data:t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(n){$(".customListCheckBox.inListChecked").each(function(){$(this).removeClass("inListChecked");$(this).removeClass("inList")});ToggleSaveButtons();GetList();UpdateCustomListSavedTime(n.updated)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}}function UpdateCustomListSavedTime(n,t){t=SetParameterId(t);$("#customListSavedTime"+t).text("Last Saved: "+n);$("#StickycustomListSavedTime"+t).text($("#customListSavedTime"+t).text())}function ChapterNotes(n,t){$("#chapterNotesDisplay-"+n+"-"+t).show();$("#customListChapterNotes-"+n+"-"+t).hide();$("#chapterNotes-"+n+"-"+t).show();$("#chapterNotesButtons-"+n+"-"+t).show();$("#addChapterNotes-"+n+"-"+t).hide();$("#chapterNotesBorder-"+n+"-"+t).addClass("active")}function SaveChapterNotes(n,t){var i={notes:$("#chapterNotes-"+n+"-"+t).val()};$.ajax({type:"POST",url:"/CustomList/SaveChapterNotes?id="+t+"&chapterId="+n,data:i,async:!1,headers:GetJSONAntiForgeryToken(),success:function(i){$("#chapterNotesDisplay-"+n+"-"+t).show();$("#customListChapterNotes-"+n+"-"+t).text(i.notes);$("#customListChapterNotesHidden-"+n+"-"+t).val(i.notes);$("#customListChapterNotes-"+n+"-"+t).show();$("#chapterNotes-"+n+"-"+t).hide();$("#chapterNotesButtons-"+n+"-"+t).hide();$("#addChapterNotes-"+n+"-"+t).show();$("#addChapterNotesButton-"+n+"-"+t).text("EDIT SECTION NOTES");$("#chapterNotesBorder-"+n+"-"+t).removeClass("active");myLists_MyList()?UpdateCustomListSavedTime(i.updated,t):UpdateCustomListSavedTime(i.updated)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function CancelChapterNotes(n,t){$("#customListChapterNotesHidden-"+n+"-"+t).val()!=""?($("#chapterNotesDisplay-"+n+"-"+t).show(),$("#customListChapterNotes-"+n+"-"+t).show()):($("#chapterNotesDisplay-"+n+"-"+t).hide(),$("#customListChapterNotes-"+n+"-"+t).hide());$("#chapterNotes-"+n+"-"+t).hide();$("#chapterNotes-"+n+"-"+t).val($("#customListChapterNotesHidden-"+n+"-"+t).val());$("#chapterNotesButtons-"+n+"-"+t).hide();$("#addChapterNotes-"+n+"-"+t).show();$("#chapterNotesBorder-"+n+"-"+t).removeClass("active")}function SetupListNotes(n){n=decodeHtmlEntity(n);$("#customListNotes").text(n);$("#listNotes").val(n);n!=""?($("#listNotesDisplay").show(),$("#addListNotesButton").text("EDIT LIST NOTE")):($("#listNotesDisplay").hide(),$("#addListNotesButton").text("ADD LIST NOTE"));$("#listNotesButtons").hide();$("#customListNotesHidden").val(n)}function SetParameterId(n){return typeof n=="undefined"||n===null?"":"-"+n}function ListNotes(n){n=SetParameterId(n);$("#listNotesDisplay"+n).show();$("#customListNotes"+n).hide();$("#listNotes"+n).show();$("#listNotesButtons"+n).show();console.log("#listNotesBorder"+n);console.log($("#listNotesBorder"+n));$("#listNotesBorder"+n).addClass("active")}function SaveListNotes(n){var t=SetParameterId(n),i="",r;i=$("#listSelector").length?$("#listSelector").val():n;r={notes:$("#listNotes"+t).val()};$.ajax({type:"POST",url:"/CustomList/SaveListNotes?id="+i,data:r,async:!1,headers:GetJSONAntiForgeryToken(),success:function(i){$("#listNotesDisplay"+t).show();$("#customListNotes"+t).text(i.notes);$("#customListNotesHidden"+t).val(i.notes);$("#customListNotes"+t).show();$("#listNotes"+t).hide();$("#listNotesButtons"+t).hide();$("#addListNotesButton"+t).text("EDIT LIST NOTES");$("#listNotesBorder"+t).removeClass("active");UpdateCustomListSavedTime(i.updated,n)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function CancelListNotes(n){n=SetParameterId(n);$("#customListNotesHidden"+n).val()!=""?($("#listNotesDisplay"+n).show(),$("#customListNotes"+n).show()):($("#listNotesDisplay"+n).hide(),$("#customListNotes"+n).hide());$("#listNotes"+n).hide();$("#listNotes"+n).val($("#customListNotesHidden"+n).val());$("#listNotesButtons"+n).hide();$("#listNotesBorder"+n).removeClass("active")}function PrintList(n){var i="",t;i=$("#listSelector").length?$("#listSelector").val():n;t=document.createElement("a");t.target="_blank";t.href="/CustomList/Print?id="+i;document.body.appendChild(t);t.click();document.body.removeChild(t)}function DownloadList(n){var t="";t=$("#listSelector").length?$("#listSelector").val():n;GetAttachment("/CustomList/PDF?id="+t)}function GetAttachment(n,t){nfcssApp.showWaitOverlay("Please Wait",1e3);var r=t==null?"GET":"POST",i=new XMLHttpRequest;i.open("GET",n,!0);i.responseType="arraybuffer";i.onload=function(){var h,f,e,o,s,r,n;if(this.status===200){var t="",u=i.getResponseHeader("Content-Disposition"),c=u.indexOf("attachment")!==-1;u&&u.indexOf("attachment")!==-1&&(h=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/,f=h.exec(u),f!=null&&f[1]&&(t=f[1].replace(/['"]/g,"")));e=i.getResponseHeader("Content-Type");o=typeof File=="function"?new File([this.response],t,{type:e}):new Blob([this.response],{type:e});typeof window.navigator.msSaveBlob!="undefined"?window.navigator.msSaveBlob(o,t):(s=window.URL||window.webkitURL,r=s.createObjectURL(o),t?(n=document.createElement("a"),typeof n.download=="undefined"?window.location=r:(n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n))):window.location=r,setTimeout(function(){s.revokeObjectURL(r)},100))}nfcssApp.closeWaitOverlay()};i.setRequestHeader("Content-type","application/x-www-form-urlencoded");r==="GET"?i.send():i.send($.param(t))}function DownloadListAsWord(n){var i="",t;i=$("#listSelector").length?$("#listSelector").val():n;t=document.createElement("a");t.download="Word";t.href="/CustomList/Word?id="+i;document.body.appendChild(t);t.click();document.body.removeChild(t)}function Rename(n){n=SetParameterId(n);$("#renameListDisplay"+n).show()}function RenameList(n){var t="";t=$("#listSelector").length?$("#listSelector").val():n;n=SetParameterId(n);$.ajax({type:"POST",url:"/CustomList/RenameList?id="+t+"&newName="+$("#renameListTextBox"+n).val(),async:!1,headers:GetJSONAntiForgeryToken(),success:function(){$("#renameListDisplay"+n).hide();$("#listRenameError"+n).hide();myLists_MyList()?$("#listName"+n).text($("#renameListTextBox"+n).val()):($('#listSelector option[value="'+$("#listSelector").val()+'"]').text($("#renameListTextBox").val()),PopulateStickyCustomList());$("#renameListTextBox"+n).val("")},statusCode:{406:function(){$("#listRenameError"+n).show()}},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function CancelRenameList(n){n=SetParameterId(n);$("#renameListDisplay"+n).hide();$("#renameListTextBox"+n).val("")}function Duplicate(n){var t="";t=$("#listSelector").length?$("#listSelector").val():n;$.ajax({type:"POST",url:"/CustomList/Duplicate?id="+t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(){myLists_MyList()?location.reload():(ShowList(),ResetCurrentList())},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function RefreshServerSideList(){$.ajax({type:"POST",url:"/CustomList/RefreshCurrentList?id="+$("#listSelector").val(),async:!1,headers:GetJSONAntiForgeryToken(),success:function(n){UpdateCustomListSavedTime(n.updated)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function ChangeList(){$("#showListButton").hasClass("active")?(ShowList(),RefreshServerSideList(),ShowList(!1),PopulateStickyCustomList()):(RefreshServerSideList(),PopulateStickyCustomList());DeactivateSaveButtons();nfcssApp.refresh()}function Delete(n){n=SetParameterId(n);$("#deleteConfirmDisplay"+n).show();$("#customDeleteButton"+n).addClass("hide")}function ConfirmDelete(n){var t="";t=$("#listSelector").length?$("#listSelector").val():n;$.ajax({type:"POST",url:"/CustomList/DeleteList?id="+t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(){myLists_MyList()?location.reload():(HideListSelector(),HideListContent())},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function CancelDelete(n){n=SetParameterId(n);$("#deleteConfirmDisplay"+n).hide();$("#customDeleteButton"+n).removeClass("hide")}function PopulateStickyCustomList(){$("#stickyListSelector").empty();var n=$("#listSelector > option").clone();$("#stickyListSelector").append(n);$("#stickyListSelector").val($("#listSelector").val());$("#StickycustomListSavedTime").text($("#customListSavedTime").text())}function BackToList(){$("html, body").animate({scrollTop:$("#customListControlsLine").offset().top},500)}function StickyChangeList(){$("#listSelector").val($("#stickyListSelector").val());ChangeList()}function ShowNewList(){$("#newListControls").show();$("#createNewListName").val("");$("#listNameError").text("")}function NewList(){$.ajax({type:"POST",url:"/CustomList/NewList?listName="+$("#createNewListName").val(),async:!1,headers:GetJSONAntiForgeryToken(),success:function(){myLists_MyList()?location.reload():($("#newListControls").hide(),HideListSelector(),ShowListSelector())},statusCode:{406:function(){$("#listNameError").text("List name is already in use.");$("#listNameError").show()},417:function(){$("#listNameError").text("List name is required.");$("#listNameError").show()},500:function(){$("#listNameError").text("There was an unexpected error.  Try again later.");$("#listNameError").show()}}})}function MoveDown(n,t,i){$.ajax({type:"POST",url:"/CustomList/MoveDown?customChapterId="+n+"&listId="+t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(){var n=$("#"+i),r=null;$("div[data-listId='"+t+"']").each(function(){$(this).data("order")==$(n).data("order")+1&&(r=$(this))});r!=null&&($(n).data("order",$(n).data("order")+1),$(r).data("order",$(r).data("order")-1),$(n).before($(r)),ShowHideMovementArrows(t),$("html, body").animate({scrollTop:$(n).offset().top-150},500))},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function MoveUp(n,t,i){$.ajax({type:"POST",url:"/CustomList/MoveUp?customChapterId="+n+"&listId="+t,async:!1,headers:GetJSONAntiForgeryToken(),success:function(){var n=$("#"+i),r=null;$("div[data-listId='"+t+"']").each(function(){$(this).data("order")==$(n).data("order")-1&&(r=$(this))});r!=null&&($(n).data("order",$(n).data("order")-1),$(r).data("order",$(r).data("order")+1),$(r).before($(n)),ShowHideMovementArrows(t),$("html, body").animate({scrollTop:$(n).offset().top-150},500))},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function ShowHideMovementArrows(n){var t=$(".customListChapters-"+n);$(t).each(function(){t.length==1?$("#MoveAll-"+$(this).data("chapterid")+"-"+$(this).data("listid")).hide():($("#MoveAll-"+$(this).data("chapterid")+"-"+$(this).data("listid")).show(),$(this).data("order")=="1"?$("#MoveUp-"+$(this).data("chapterid")+"-"+$(this).data("listid")).hide():$("#MoveUp-"+$(this).data("chapterid")+"-"+$(this).data("listid")).show(),$(this).data("order")==t.length?$("#MoveDown-"+$(this).data("chapterid")+"-"+$(this).data("listid")).hide():$("#MoveDown-"+$(this).data("chapterid")+"-"+$(this).data("listid")).show())})}function LoadEnd(n,t){$("div[data-chapter-id='"+t+"'][data-edition-id='"+n+"'] a[href^='np_']").once("click",function(i){nfcssApp.outsideGoToCodeLink(i,n,t)});$("a.code").once("click",function(n){nfcssApp.outsideGoToCode(n)})}function myLists_ShowList(n){$("#showListButton-"+n).hasClass("active")?myLists_HideListContent(n):myLists_ShowListContent(n)}function myLists_HideListContent(n){$("#showListButton-"+n).removeClass("active");$("#showListButton-"+n).text("SHOW LIST");$("#showListButtons-"+n).hide();$("#customListDisplay-"+n).empty();$("#listNotesDisplay-"+n).hide();$("#listRenameError-"+n).hide();$("#renameListDisplay-"+n).hide();$("#deleteConfirmDisplay-"+n).hide();$("#customDeleteButton-"+n).removeClass("hide");$("#shadowContainer-"+n).hide();$("#shadowContainer-"+n).removeClass("active")}function myLists_ShowListContent(n){$("#showListButton-"+n).addClass("active");$("#showListButton-"+n).text("HIDE LIST");$("#showListButtons-"+n).show();$("#shadowContainer-"+n).show();$("#shadowContainer-"+n).addClass("active");myLists_GetList(n)}function myLists_GetList(n){$("#showListButton-"+n).hasClass("active")&&$.ajax({type:"GET",url:"/CustomList/GetList?id="+n,async:!1,success:function(t){$("#customListDisplay-"+n).empty();$("#customListDisplay-"+n).append(t)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: "+n.responseText;console.error(r)}})}function myLists_MyList(){return $(".myListsContainer").length?!0:!1}function myLists_SetupListNotes(n,t){n=decodeHtmlEntity(n);$("#customListNotes-"+t).text(n);$("#listNotes-"+t).val(n);n!=""?($("#listNotesDisplay-"+t).show(),$("#addListNotesButton-"+t).text("EDIT LIST NOTE")):($("#listNotesDisplay-"+t).hide(),$("#addListNotesButton-"+t).text("ADD LIST NOTE"));$("#listNotesButtons-"+t).hide();$("#customListNotesHidden-"+t).val(n)}var nfcssApp,xhrPool,decodeHtmlEntity;!function(n,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(n){return t(n)}):n.BootstrapDialog=t(n.jQuery)}(this,function(n){"use strict";var r=n.fn.modal.Constructor,i=function(n,t){r.call(this,n,t)},t;return i.getModalVersion=function(){return"undefined"==typeof n.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(n.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(n.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},i.ORIGINAL_BODY_PADDING=parseInt(n("body").css("padding-right")||0,10),i.METHODS_TO_OVERRIDE={},i.METHODS_TO_OVERRIDE["v3.1"]={},i.METHODS_TO_OVERRIDE["v3.2"]={hide:function(t){if(t&&t.preventDefault(),t=n.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()){this.isShown=!1;var i=this.getGlobalOpenedDialogs();0===i.length&&this.$body.removeClass("modal-open");this.resetScrollbar();this.escape();n(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal");n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},i.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var n=i.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)},resetScrollbar:function(){var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.css("padding-right",i.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(n.proxy(function(){var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}},i.METHODS_TO_OVERRIDE["v3.3.4"]=n.extend({},i.METHODS_TO_OVERRIDE["v3.3"]),i.prototype={constructor:i,getGlobalOpenedDialogs:function(){var i=[];return n.each(t.dialogs,function(n,t){t.isRealized()&&t.isOpened()&&i.push(t)}),i}},i.prototype=n.extend(i.prototype,r.prototype,i.METHODS_TO_OVERRIDE[i.getModalVersion()]),t=function(i){this.defaultOptions=n.extend(!0,{id:t.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},t.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.realized=!1;this.opened=!1;this.initOptions(i);this.holdThisInstance()},t.BootstrapDialogModal=i,t.NAMESPACE="bootstrap-dialog",t.TYPE_DEFAULT="type-default",t.TYPE_INFO="type-info",t.TYPE_PRIMARY="type-primary",t.TYPE_SUCCESS="type-success",t.TYPE_WARNING="type-warning",t.TYPE_DANGER="type-danger",t.DEFAULT_TEXTS={},t.DEFAULT_TEXTS[t.TYPE_DEFAULT]="Information",t.DEFAULT_TEXTS[t.TYPE_INFO]="Information",t.DEFAULT_TEXTS[t.TYPE_PRIMARY]="Information",t.DEFAULT_TEXTS[t.TYPE_SUCCESS]="Success",t.DEFAULT_TEXTS[t.TYPE_WARNING]="Warning",t.DEFAULT_TEXTS[t.TYPE_DANGER]="Danger",t.DEFAULT_TEXTS.OK="OK",t.DEFAULT_TEXTS.CANCEL="Cancel",t.DEFAULT_TEXTS.CONFIRM="Confirmation",t.SIZE_NORMAL="size-normal",t.SIZE_SMALL="size-small",t.SIZE_WIDE="size-wide",t.SIZE_LARGE="size-large",t.BUTTON_SIZES={},t.BUTTON_SIZES[t.SIZE_NORMAL]="",t.BUTTON_SIZES[t.SIZE_SMALL]="",t.BUTTON_SIZES[t.SIZE_WIDE]="",t.BUTTON_SIZES[t.SIZE_LARGE]="btn-lg",t.ICON_SPINNER="glyphicon glyphicon-asterisk",t.defaultOptions={type:t.TYPE_PRIMARY,size:t.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,spinicon:t.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1},t.configDefaultOptions=function(i){t.defaultOptions=n.extend(!0,t.defaultOptions,i)},t.dialogs={},t.openAll=function(){n.each(t.dialogs,function(n,t){t.open()})},t.closeAll=function(){n.each(t.dialogs,function(n,t){t.close()})},t.moveFocus=function(){var i=null;n.each(t.dialogs,function(n,t){i=t});null!==i&&i.isRealized()&&i.getModal().focus()},t.METHODS_TO_OVERRIDE={},t.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(n){n.target===this&&n.data.dialog.isClosable()&&n.data.dialog.canCloseByBackdrop()&&n.data.dialog.close()}),this},updateZIndex:function(){var i=0,r,u;return n.each(t.dialogs,function(){i++}),r=this.getModal(),u=r.data("bs.modal").$backdrop,r.css("z-index",1050+20*(i-1)),u.css("z-index",1040+20*(i-1)),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},t.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:t.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:t.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:t.METHODS_TO_OVERRIDE["v3.1"].open},t.METHODS_TO_OVERRIDE["v3.3"]={},t.METHODS_TO_OVERRIDE["v3.3.4"]=n.extend({},t.METHODS_TO_OVERRIDE["v3.1"]),t.prototype={constructor:t,initOptions:function(t){return this.options=n.extend(!0,this.defaultOptions,t),this},holdThisInstance:function(){return t.dialogs[this.getId()]=this,this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var t=n('<div class="modal" role="dialog" aria-hidden="true"><\/div>');return t.prop("id",this.getId()),t.attr("aria-labelledby",this.getId()+"_title"),t},getModal:function(){return this.$modal},setModal:function(n){return this.$modal=n,this},createModalDialog:function(){return n('<div class="modal-dialog"><\/div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(n){return this.$modalDialog=n,this},createModalContent:function(){return n('<div class="modal-content"><\/div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(n){return this.$modalContent=n,this},createModalHeader:function(){return n('<div class="modal-header"><\/div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(n){return this.$modalHeader=n,this},createModalBody:function(){return n('<div class="modal-body"><\/div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(n){return this.$modalBody=n,this},createModalFooter:function(){return n('<div class="modal-footer"><\/div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(n){return this.$modalFooter=n,this},createDynamicContent:function(n){var t=null;return t="function"==typeof n?n.call(n,this):n,"string"==typeof t&&(t=this.formatStringContent(t)),t},formatStringContent:function(n){return this.options.nl2br?n.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):n},setData:function(n,t){return this.options.data[n]=t,this},getData:function(n){return this.options.data[n]},setId:function(n){return this.options.id=n,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(n){return this.options.type=n,this.updateType(),this},updateType:function(){if(this.isRealized()){var n=[t.TYPE_DEFAULT,t.TYPE_INFO,t.TYPE_PRIMARY,t.TYPE_SUCCESS,t.TYPE_WARNING,t.TYPE_DANGER];this.getModal().removeClass(n.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(n){return this.options.size=n,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var i=this;this.getModal().removeClass(t.SIZE_NORMAL).removeClass(t.SIZE_SMALL).removeClass(t.SIZE_WIDE).removeClass(t.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===t.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===t.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");n.each(this.options.buttons,function(t,r){var u=i.getButton(r.id),f=["btn-lg","btn-sm","btn-xs"],e=!1,o;"string"==typeof r.cssClass&&(o=r.cssClass.split(" "),n.each(o,function(t,i){-1!==n.inArray(i,f)&&(e=!0)}));e||(u.removeClass(f.join(" ")),u.addClass(i.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(n){return this.options.cssClass=n,this},getTitle:function(){return this.options.title},setTitle:function(n){return this.options.title=n,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var n=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(n).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(n){return this.options.message=n,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var n=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(n)}return this},isClosable:function(){return this.options.closable},setClosable:function(n){return this.options.closable=n,this.updateClosable(),this},setCloseByBackdrop:function(n){return this.options.closeByBackdrop=n,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(n){return this.options.closeByKeyboard=n,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(n){return this.options.animate=n,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(n){return this.options.spinicon=n,this},addButton:function(n){return this.options.buttons.push(n),this},addButtons:function(t){var i=this;return n.each(t,function(n,t){i.addButton(t)}),this},getButtons:function(){return this.options.buttons},setButtons:function(n){return this.options.buttons=n,this.updateButtons(),this},getButton:function(n){return"undefined"!=typeof this.indexedButtons[n]?this.indexedButtons[n]:null},getButtonSize:function(){return"undefined"!=typeof t.BUTTON_SIZES[this.getSize()]?t.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(n){this.options.autodestroy=n},getDescription:function(){return this.options.description},setDescription:function(n){return this.options.description=n,this},setTabindex:function(n){return this.options.tabindex=n,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return t.DEFAULT_TEXTS[this.getType()]},getNamespace:function(n){return t.NAMESPACE+"-"+n},createHeaderContent:function(){var t=n("<div><\/div>");return t.addClass(this.getNamespace("header")),t.append(this.createTitleContent()),t.prepend(this.createCloseButton()),t},createTitleContent:function(){var t=n("<div><\/div>");return t.addClass(this.getNamespace("title")),t},createCloseButton:function(){var t=n("<div><\/div>"),i;return t.addClass(this.getNamespace("close-button")),i=n('<button class="close">&times;<\/button>'),t.append(i),t.on("click",{dialog:this},function(n){n.data.dialog.close()}),t},createBodyContent:function(){var t=n("<div><\/div>");return t.addClass(this.getNamespace("body")),t.append(this.createMessageContent()),t},createMessageContent:function(){var t=n("<div><\/div>");return t.addClass(this.getNamespace("message")),t},createFooterContent:function(){var t=n("<div><\/div>");return t.addClass(this.getNamespace("footer")),t},createFooterButtons:function(){var r=this,i=n("<div><\/div>");return i.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},n.each(this.options.buttons,function(n,u){u.id||(u.id=t.newGuid());var f=r.createButton(u);r.indexedButtons[u.id]=f;i.append(f)}),i},createButton:function(t){var i=n('<button class="btn"><\/button>');return i.prop("id",t.id),i.data("button",t),"undefined"!=typeof t.icon&&""!==n.trim(t.icon)&&i.append(this.createButtonIcon(t.icon)),"undefined"!=typeof t.label&&i.append(t.label),i.addClass("undefined"!=typeof t.cssClass&&""!==n.trim(t.cssClass)?t.cssClass:"btn-default"),"undefined"!=typeof t.hotkey&&(this.registeredButtonHotkeys[t.hotkey]=i),i.on("click",{dialog:this,$button:i,button:t},function(n){var r=n.data.dialog,t=n.data.$button,i=t.data("button");"function"==typeof i.action&&i.action.call(t,r,n);i.autospin&&t.toggleSpin(!0)}),this.enhanceButton(i),i},enhanceButton:function(n){return n.dialog=this,n.toggleEnable=function(n){var t=this;return"undefined"!=typeof n?t.prop("disabled",!n).toggleClass("disabled",!n):t.prop("disabled",!t.prop("disabled")),t},n.enable=function(){var n=this;return n.toggleEnable(!0),n},n.disable=function(){var n=this;return n.toggleEnable(!1),n},n.toggleSpin=function(t){var i=this,r=i.dialog,u=i.find("."+r.getNamespace("button-icon"));return"undefined"==typeof t&&(t=!(n.find(".icon-spin").length>0)),t?(u.hide(),n.prepend(r.createButtonIcon(r.getSpinicon()).addClass("icon-spin"))):(u.show(),n.find(".icon-spin").remove()),i},n.spin=function(){var n=this;return n.toggleSpin(!0),n},n.stopSpin=function(){var n=this;return n.toggleSpin(!1),n},this},createButtonIcon:function(t){var i=n("<span><\/span>");return i.addClass(this.getNamespace("button-icon")).addClass(t),i},enableButtons:function(t){return n.each(this.indexedButtons,function(n,i){i.toggleEnable(t)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(n){return this.options.onshow=n,this},onShown:function(n){return this.options.onshown=n,this},onHide:function(n){return this.options.onhide=n,this},onHidden:function(n){return this.options.onhidden=n,this},isRealized:function(){return this.realized},setRealized:function(n){return this.realized=n,this},isOpened:function(){return this.opened},setOpened:function(n){return this.opened=n,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(n){var t=n.data.dialog,i;if(t.setOpened(!0),t.isModalEvent(n)&&"function"==typeof t.options.onshow)return i=t.options.onshow(t),i===!1&&t.setOpened(!1),i}),this.getModal().on("shown.bs.modal",{dialog:this},function(n){var t=n.data.dialog;t.isModalEvent(n)&&"function"==typeof t.options.onshown&&t.options.onshown(t)}),this.getModal().on("hide.bs.modal",{dialog:this},function(n){var t=n.data.dialog,i;if(t.setOpened(!1),t.isModalEvent(n)&&"function"==typeof t.options.onhide)return i=t.options.onhide(t),i===!1&&t.setOpened(!0),i}),this.getModal().on("hidden.bs.modal",{dialog:this},function(i){var r=i.data.dialog;r.isModalEvent(i)&&"function"==typeof r.options.onhidden&&r.options.onhidden(r);r.isAutodestroy()&&(delete t.dialogs[r.getId()],n(this).remove());t.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(n){27===n.which&&n.data.dialog.isClosable()&&n.data.dialog.canCloseByKeyboard()&&n.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(t){var r=t.data.dialog,i;"undefined"!=typeof r.registeredButtonHotkeys[t.which]&&(i=n(r.registeredButtonHotkeys[t.which]),i.prop("disabled")||i.focus().trigger("click"))}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){n(t.target).hasClass("modal-backdrop")&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},isModalEvent:function(n){return"undefined"!=typeof n.namespace&&"bs.modal"===n.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(n){var t=n.data.dialog,i;t.draggableData.isMouseDown=!0;i=t.getModalDialog().offset();t.draggableData.mouseOffset={top:n.clientY-i.top,left:n.clientX-i.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(n){n.data.dialog.draggableData.isMouseDown=!1}),n("body").on("mousemove",{dialog:this},function(n){var t=n.data.dialog;t.draggableData.isMouseDown&&t.getModalDialog().offset({top:n.clientY-t.draggableData.mouseOffset.top,left:n.clientX-t.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(t.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new i(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return this.getModal().modal("hide"),this}},t.prototype=n.extend(t.prototype,t.METHODS_TO_OVERRIDE[i.getModalVersion()]),t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0,i="x"===n?t:3&t|8;return i.toString(16)})},t.show=function(n){return new t(n).open()},t.alert=function(){var i={},r={type:t.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:t.DEFAULT_TEXTS.OK,callback:null};return i="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?n.extend(!0,r,arguments[0]):n.extend(!0,r,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),new t({type:i.type,title:i.title,message:i.message,closable:i.closable,draggable:i.draggable,data:{callback:i.callback},onhide:function(n){!n.getData("btnClicked")&&n.isClosable()&&"function"==typeof n.getData("callback")&&n.getData("callback")(!1)},buttons:[{label:i.buttonLabel,action:function(n){n.setData("btnClicked",!0);"function"==typeof n.getData("callback")&&n.getData("callback")(!0);n.close()}}]}).open()},t.confirm=function(){var i={},r={type:t.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:t.DEFAULT_TEXTS.CANCEL,btnOKLabel:t.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return i="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?n.extend(!0,r,arguments[0]):n.extend(!0,r,{message:arguments[0],closable:!1,buttonLabel:t.DEFAULT_TEXTS.OK,callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),null===i.btnOKClass&&(i.btnOKClass=["btn",i.type.split("-")[1]].join("-")),new t({type:i.type,title:i.title,message:i.message,closable:i.closable,draggable:i.draggable,data:{callback:i.callback},buttons:[{label:i.btnCancelLabel,action:function(n){"function"==typeof n.getData("callback")&&n.getData("callback")(!1);n.close()}},{label:i.btnOKLabel,cssClass:i.btnOKClass,action:function(n){"function"==typeof n.getData("callback")&&n.getData("callback")(!0);n.close()}}]}).open()},t.warning=function(n){return new t({type:t.TYPE_WARNING,message:n}).open()},t.danger=function(n){return new t({type:t.TYPE_DANGER,message:n}).open()},t.success=function(n){return new t({type:t.TYPE_SUCCESS,message:n}).open()},t});+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),r=u.data("bs.validator");(r||i!="destroy")&&(r||u.data("bs.validator",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(i,r){this.$element=n(i);this.options=r;r.errors=n.extend({},t.DEFAULTS.errors,r.errors);for(var u in r.custom)if(!r.errors[u])throw new Error("Missing default error message for custom validator: "+u);n.extend(t.VALIDATORS,r.custom);this.$element.attr("novalidate",!0);this.toggleSubmit();this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",n.proxy(this.validateInput,this));this.$element.on("submit.bs.validator",n.proxy(this.onSubmit,this));this.$element.find("[data-match]").each(function(){var t=n(this),i=t.data("match");n(i).on("input.bs.validator",function(){t.val()&&t.trigger("input.bs.validator")})})},r;t.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible';t.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}};t.VALIDATORS={"native":function(n){var t=n[0];return t.checkValidity?t.checkValidity():!0},match:function(t){var i=t.data("match");return!t.val()||t.val()===n(i).val()},minlength:function(n){var t=n.data("minlength");return!n.val()||n.val().length>=t}};t.prototype.validateInput=function(t){var i=n(t.target),u=i.data("bs.validator.errors"),r;(i.is('[type="radio"]')&&(i=this.$element.find('input[name="'+i.attr("name")+'"]')),this.$element.trigger(t=n.Event("validate.bs.validator",{relatedTarget:i[0]})),t.isDefaultPrevented())||(r=this,this.runValidators(i).done(function(f){i.data("bs.validator.errors",f);f.length?r.showErrors(i):r.clearErrors(i);u&&f.toString()===u.toString()||(t=f.length?n.Event("invalid.bs.validator",{relatedTarget:i[0],detail:f}):n.Event("valid.bs.validator",{relatedTarget:i[0],detail:u}),r.$element.trigger(t));r.toggleSubmit();r.$element.trigger(n.Event("validated.bs.validator",{relatedTarget:i[0]}))}))};t.prototype.runValidators=function(i){function f(n){return i.data(n+"-error")||i.data("error")||n=="native"&&i[0].validationMessage||e.errors[n]}var r=[],u=n.Deferred(),e=this.options;return i.data("bs.validator.deferred")&&i.data("bs.validator.deferred").reject(),i.data("bs.validator.deferred",u),n.each(t.VALIDATORS,n.proxy(function(n,t){if((i.data(n)||n=="native")&&!t.call(this,i)){var u=f(n);~r.indexOf(u)||r.push(u)}},this)),!r.length&&i.val()&&i.data("remote")?this.defer(i,function(){var t={};t[i.attr("name")]=i.val();n.get(i.data("remote"),t).fail(function(n,t,i){r.push(f("remote")||i)}).always(function(){u.resolve(r)})}):u.resolve(r),u.promise()};t.prototype.validate=function(){var n=this.options.delay;return this.options.delay=0,this.$element.find(t.INPUT_SELECTOR).trigger("input.bs.validator"),this.options.delay=n,this};t.prototype.showErrors=function(t){var i=this.options.html?"html":"text";this.defer(t,function(){var r=t.closest(".form-group"),u=r.find(".help-block.with-errors"),e=r.find(".form-control-feedback"),f=t.data("bs.validator.errors");f.length&&(f=n("<ul/>").addClass("list-unstyled").append(n.map(f,function(t){return n("<li/>")[i](t)})),u.data("bs.validator.originalContent")===undefined&&u.data("bs.validator.originalContent",u.html()),u.empty().append(f),r.addClass("has-error"),e.length&&e.removeClass(this.options.feedback.success)&&e.addClass(this.options.feedback.error)&&r.removeClass("has-success"))})};t.prototype.clearErrors=function(n){var t=n.closest(".form-group"),r=t.find(".help-block.with-errors"),i=t.find(".form-control-feedback");r.html(r.data("bs.validator.originalContent"));t.removeClass("has-error");i.length&&i.removeClass(this.options.feedback.error)&&i.addClass(this.options.feedback.success)&&t.addClass("has-success")};t.prototype.hasErrors=function(){function i(){return!!(n(this).data("bs.validator.errors")||[]).length}return!!this.$element.find(t.INPUT_SELECTOR).filter(i).length};t.prototype.isIncomplete=function(){function i(){return this.type==="checkbox"?!this.checked:this.type==="radio"?!n('[name="'+this.name+'"]:checked').length:n.trim(this.value)===""}return!!this.$element.find(t.INPUT_SELECTOR).filter("[required]").filter(i).length};t.prototype.onSubmit=function(n){this.validate();(this.isIncomplete()||this.hasErrors())&&n.preventDefault()};t.prototype.toggleSubmit=function(){if(this.options.disable){var t=n('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]'));t.toggleClass("disabled",this.isIncomplete()||this.hasErrors())}};t.prototype.defer=function(t,i){if(i=n.proxy(i,this),!this.options.delay)return i();window.clearTimeout(t.data("bs.validator.timeout"));t.data("bs.validator.timeout",window.setTimeout(i,this.options.delay))};t.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(t.INPUT_SELECTOR).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var t=n(this),i=t.data("bs.validator.timeout");window.clearTimeout(i)&&t.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var t=n(this),i=t.data("bs.validator.originalContent");t.removeData("bs.validator.originalContent").html(i)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};r=n.fn.validator;n.fn.validator=i;n.fn.validator.Constructor=t;n.fn.validator.noConflict=function(){return n.fn.validator=r,this};n(window).on("load",function(){n('form[data-toggle="validator"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery),function(){var t,n;t=this.jQuery||window.jQuery;n=t(window);t.fn.stick_in_parent=function(i){var s,e,a,h,c,v,r,u,o,l,f;for(null==i&&(i={}),f=i.sticky_class,c=i.inner_scrolling,l=i.recalc_every,o=i.parent,u=i.offset_top,r=i.spacer,e=i.bottoming,null==u&&(u=0),null==o&&(o=void 0),null==c&&(c=!0),null==f&&(f="is_stuck"),s=t(document),null==e&&(e=!0),a=function(i,h,a,v,y,p,w,b){var it,ot,nt,et,st,k,d,rt,ut,ft,g,tt;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),st=s.height(),d=i.parent(),null!=o&&(d=d.closest(o)),!d.length)throw"failed to find stick parent";if(it=nt=!1,(g=null!=r?r&&i.closest(r):t("<div />"))&&g.css("position",i.css("position")),rt=function(){var n,t,e;if(!b&&(st=s.height(),n=parseInt(d.css("border-top-width"),10),t=parseInt(d.css("padding-top"),10),h=parseInt(d.css("padding-bottom"),10),a=d.offset().top+n+t,v=d.height(),nt&&(it=nt=!1,null==r&&(i.insertAfter(g),g.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),e=!0),y=i.offset().top-(parseInt(i.css("margin-top"),10)||0)-u,p=i.outerHeight(!0),w=i.css("float"),g&&g.css({width:i.outerWidth(!0),height:p,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:w}),e))return tt()},rt(),p!==v)return et=void 0,k=u,ft=l,tt=function(){var o,ut,t,tt;if(!b&&(t=!1,null!=ft&&(--ft,0>=ft&&(ft=l,rt(),t=!0)),t||s.height()===st||rt(),t=n.scrollTop(),null!=et&&(ut=t-et),et=t,nt?(e&&(tt=t+p+k>v+a,it&&!tt&&(it=!1,i.css({position:"fixed",bottom:"",top:k}).trigger("sticky_kit:unbottom"))),t<y&&(nt=!1,k=u,null==r&&("left"!==w&&"right"!==w||i.insertAfter(g),g.detach()),o={position:"",width:"",top:""},i.css(o).removeClass(f).trigger("sticky_kit:unstick")),c&&(o=n.height(),p+u>o&&!it&&(k-=ut,k=Math.max(o-p,k),k=Math.min(u,k),nt&&i.css({top:k+"px"})))):t>y&&(nt=!0,o={position:"fixed",top:k},o.width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(o).addClass(f),null==r&&(i.after(g),"left"!==w&&"right"!==w||g.append(i)),i.trigger("sticky_kit:stick")),nt&&e&&(null==tt&&(tt=t+p+k>v+a),!it&&tt)))return it=!0,"static"===d.css("position")&&d.css({position:"relative"}),i.css({position:"absolute",bottom:h,top:"auto"}).trigger("sticky_kit:bottom")},ut=function(){return rt(),tt()},ot=function(){return b=!0,n.off("touchmove",tt),n.off("scroll",tt),n.off("resize",ut),t(document.body).off("sticky_kit:recalc",ut),i.off("sticky_kit:detach",ot),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),d.position("position",""),nt?(null==r&&("left"!==w&&"right"!==w||i.insertAfter(g),g.remove()),i.removeClass(f)):void 0},n.on("touchmove",tt),n.on("scroll",tt),n.on("resize",ut),t(document.body).on("sticky_kit:recalc",ut),i.on("sticky_kit:detach",ot),setTimeout(tt,0)}},h=0,v=this.length;h<v;h++)i=this[h],a(t(i));return this}}.call(this);jQuery(function(){initTabs();initAnchors();initOpenClose();initAccordion();initLightbox();initScrollTop();initMobileNav();jQuery("input, textarea").placeholder();initCustomHover()}),function(n){var f="ontouchstart"in window||typeof navigator.msMaxTouchPoints!="undefined",t=/Windows Phone/.test(navigator.userAgent),i=f&&"mouseenter click"||t&&navigator.pointerEnabled&&"pointerdown"||t&&navigator.msPointerEnabled&&"MSPointerDown"||"mouseenter click",r,e,u;f||t?(u=function(t){n(t.currentTarget).hasClass("archive-link")||t.preventDefault()},r=function(t){var r=t.data,f=n(this),e=function(t){var o=n(t.target);if(!o.is(f)&&!o.closest(f).length){if(f.removeClass(r.hoverClass),f.off("click",u),r.onLeave)r.onLeave(f);n(document).off(i,e)}};if(!f.hasClass(r.hoverClass)){n("."+r.hoverClass).removeClass(r.hoverClass);f.addClass(r.hoverClass);f.one("click",u);n(document).on(i,e);if(r.onHover)r.onHover(f)}}):(r=function(t){var i=t.data,r=n(this);if(n("."+i.hoverClass).removeClass(i.hoverClass),r.addClass(i.hoverClass),i.onHover)i.onHover(r)},e=function(t){var i=t.data,r=n(this);if(r.removeClass(i.hoverClass),i.onLeave)i.onLeave(r)});n.fn.touchHover=function(t){var u=n.extend({hoverClass:"hover"},t);n(this).on(i,u,r);return this}}(jQuery),function(n){var t,i;n.fn.contentTabs=function(r){var u=n.extend({activeClass:"active",addToParent:!1,autoHeight:!1,autoRotate:!1,checkHash:!1,animSpeed:400,switchTime:3e3,effect:"none",tabLinks:"a",attrib:"href",event:"click"},r);return this.each(function(){function v(e,l){h=!0;var v=e.data("ctab"),y=l.data("ctab");f=l;o=y;(u.addToParent?s:r).removeClass(u.activeClass);(u.addToParent?l.data("cparent"):l).addClass(u.activeClass);c(v,!0);i[u.effect].hide({speed:u.animSpeed,tab:v,complete:function(){c(y.removeClass(t).width(""));i[u.effect].show({speed:u.animSpeed,tab:y,complete:function(){v.is(y)||v.width(v.width()).addClass(t);h=!1;c(y,!1);a();n(window).trigger("resize")}})}})}function c(n,t){var i=n&&n.length?n:o,r,f;u.autoHeight&&i&&(e.stop(),t===!1?e.css({height:""}):(r=i.attr("style"),i.show().css({width:i.width()}),f=i.outerHeight(!0),r?i.attr("style",r):i.removeAttr("style"),t===!0?e.css({height:f}):e.animate({height:f},{duration:u.animSpeed})))}function w(){var t=(u.addToParent?s:r).filter("."+u.activeClass),n=(u.addToParent?s:r).index(t),i=r.eq(n<r.length-1?n+1:0);f=r.eq(n);v(f,i)}function a(){u.autoRotate&&r.length>1&&(clearTimeout(y),y=setTimeout(function(){h?a():w()},u.switchTime))}var p=n(this),l=n(),r=p.find(u.tabLinks),s=r.parent(),f=r.eq(0),o,h,e,y;u.checkHash&&r.filter("["+u.attrib+'="'+location.hash+'"]').length&&((u.addToParent?s:r).removeClass(u.activeClass),setTimeout(function(){window.scrollTo(0,0)},1));r.each(function(){var r=n(this),c=r.attr(u.attrib),p=r.parent(),s,a,y;c=c.substr(c.lastIndexOf("#"));s=n(c).hide().addClass(t);l=l.add(s);r.data("cparent",p);r.data("ctab",s);!e&&s.length&&(e=s.parent());a=u.addToParent?p:r;a.hasClass(u.activeClass)||u.checkHash&&location.hash===c?(a.addClass(u.activeClass),f=r,o=s,s.removeClass(t).width(""),i[u.effect].show({tab:s,fast:!0})):(y=s.width(),y&&s.width(y),s.addClass(t));r.bind(u.event,function(){r==f||h||(v(f,r),f=r)});u.attrib==="href"&&r.bind("click",function(n){n.preventDefault()})});u.autoHeight&&n(window).bind("resize orientationchange",function(){l.not(o).removeClass(t).show().each(function(){var n=jQuery(this),t=n.css({width:""}).width();t&&n.width(t)}).hide().addClass(t);c(o,!1)});a()})};t="js-tab-hidden",function(){var i=n('<style type="text/css">')[0],r="."+t;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r));n("head").append(i)}();i={none:{show:function(n){n.tab.css({display:"block"});n.complete&&n.complete()},hide:function(n){n.tab.css({display:"none"});n.complete&&n.complete()}},fade:{show:function(n){n.fast&&(n.speed=1);n.tab.fadeIn(n.speed);n.complete&&setTimeout(n.complete,n.speed)},hide:function(n){n.fast&&(n.speed=1);n.tab.fadeOut(n.speed);n.complete&&setTimeout(n.complete,n.speed)}},slide:{show:function(t){var r=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),i=n('<div class="effect-div">').insertBefore(t.tab).append(t.tab);i.css({width:"100%",overflow:"hidden",position:"relative"});t.tab.css({marginTop:-r,display:"block"});t.fast&&(t.speed=1);t.tab.animate({marginTop:0},{duration:t.speed,complete:function(){t.tab.css({marginTop:"",width:""}).insertBefore(i);i.remove();t.complete&&t.complete()}})},hide:function(t){var r=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),i=n('<div class="effect-div">').insertBefore(t.tab).append(t.tab);i.css({width:"100%",overflow:"hidden",position:"relative"});t.fast&&(t.speed=1);t.tab.animate({marginTop:-r},{duration:t.speed,complete:function(){t.tab.css({display:"none",marginTop:"",width:""}).insertBefore(i);i.remove();t.complete&&t.complete()}})}}}}(jQuery),function(n){function r(t){this.options=n.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t);this.init()}var t,i;r.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=n(this.options.holder);this.opener=this.holder.find(this.options.opener);this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var i=this;this.eventHandler=function(n){n.preventDefault();i.slider.hasClass(t)?i.showSlide():i.hideSlide()};i.opener.bind(i.options.event,this.eventHandler);i.options.event==="over"&&(i.opener.bind("mouseenter",function(){i.showSlide()}),i.holder.bind("mouseleave",function(){i.hideSlide()}));i.outsideClickHandler=function(t){if(i.options.hideOnClickOutside){var r=n(t.target);r.is(i.holder)||r.closest(i.holder).length||i.hideSlide()}};this.holder.hasClass(this.options.activeClass)?n(document).bind("click touchstart",i.outsideClickHandler):this.slider.addClass(t)},showSlide:function(){var r=this;r.options.addClassBeforeAnimation&&r.holder.addClass(r.options.activeClass);r.slider.removeClass(t);n(document).bind("click touchstart",r.outsideClickHandler);r.makeCallback("animStart",!0);i[r.options.effect].show({box:r.slider,speed:r.options.animSpeed,complete:function(){r.options.addClassBeforeAnimation||r.holder.addClass(r.options.activeClass);r.makeCallback("animEnd",!0)}})},hideSlide:function(){var r=this;r.options.addClassBeforeAnimation&&r.holder.removeClass(r.options.activeClass);n(document).unbind("click touchstart",r.outsideClickHandler);r.makeCallback("animStart",!1);i[r.options.effect].hide({box:r.slider,speed:r.options.animSpeed,complete:function(){r.options.addClassBeforeAnimation||r.holder.removeClass(r.options.activeClass);r.slider.addClass(t);r.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(t).css({display:""});this.opener.unbind(this.options.event,this.eventHandler);this.holder.removeClass(this.options.activeClass).removeData("OpenClose");n(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(n){if(typeof this.options[n]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[n].apply(this,t)}}};t="js-slide-hidden",function(){var i=n('<style type="text/css">')[0],r="."+t;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r));n("head").append(i)}();i={slide:{show:function(n){n.box.stop(!0).hide().slideDown(n.speed,n.complete)},hide:function(n){n.box.stop(!0).slideUp(n.speed,n.complete)}},fade:{show:function(n){n.box.stop(!0).hide().fadeIn(n.speed,n.complete)},hide:function(n){n.box.stop(!0).fadeOut(n.speed,n.complete)}},none:{show:function(n){n.box.hide().show(0,n.complete)},hide:function(n){n.box.hide(0,n.complete)}}};n.fn.openClose=function(t){return this.each(function(){jQuery(this).data("OpenClose",new r(n.extend(t,{holder:this})))})}}(jQuery),function(n){n.fn.slideAccordion=function(r){var u=n.extend({addClassBeforeAnimation:!1,allowClickWhenExpanded:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,collapsible:!0,event:"click"},r);return this.each(function(){var r=n(this),f=r.find(":has("+u.slider+")");f.each(function(){var r=n(this),e=r.find(u.opener),f=r.find(u.slider);e.bind(u.event,function(n){if(!f.is(":animated"))if(r.hasClass(u.activeClass)){if(u.allowClickWhenExpanded)return;u.collapsible&&f.slideUp(u.animSpeed,function(){t(f);r.removeClass(u.activeClass)})}else{var e=r.siblings("."+u.activeClass),o=e.find(u.slider);r.addClass(u.activeClass);i(f).hide().slideDown(u.animSpeed);o.slideUp(u.animSpeed,function(){e.removeClass(u.activeClass);t(o)})}n.preventDefault()});r.hasClass(u.activeClass)?i(f):t(f)})})};var i=function(n){return n.css({position:"",top:"",left:"",width:""})},t=function(n){return n.show().css({position:"absolute",top:-9999,left:-9999,width:n.width()})}}(jQuery),function(n){function i(t){this.options=n.extend({container:null,hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".nav-opener",menuDrop:".nav-drop",toggleEvent:"click",outsideClickEvent:"click touchstart pointerdown MSPointerDown"},t);this.initStructure();this.attachEvents()}i.prototype={initStructure:function(){this.page=n("html");this.container=n(this.options.container);this.opener=this.container.find(this.options.menuOpener);this.drop=this.container.find(this.options.menuDrop)},attachEvents:function(){var i=this;t&&(t(),t=null);this.outsideClickHandler=function(t){if(i.isOpened()){var r=n(t.target);r.closest(i.opener).length||r.closest(i.drop).length||i.hide()}};this.openerClickHandler=function(n){n.preventDefault();i.toggle()};this.opener.on(this.options.toggleEvent,this.openerClickHandler)},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass)},show:function(){if(this.container.addClass(this.options.menuActiveClass),this.options.hideOnClickOutside)this.page.on(this.options.outsideClickEvent,this.outsideClickHandler)},hide:function(){this.container.removeClass(this.options.menuActiveClass);this.options.hideOnClickOutside&&this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)},toggle:function(){this.isOpened()?this.hide():this.show()},destroy:function(){this.container.removeClass(this.options.menuActiveClass);this.opener.off(this.options.toggleEvent,this.clickHandler);this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)}};var t=function(){var f=n(window),i=n("html"),r="resize-active",t,u,e=function(){t=!1;i.removeClass(r)},o=function(){t||(t=!0,i.addClass(r));clearTimeout(u);u=setTimeout(e,500)};f.on("resize orientationchange",o)};n.fn.mobileNav=function(t){return this.each(function(){var r=n.extend({},t,{container:this}),u=new i(r);n.data(this,"MobileNav",u)})}}(jQuery),function(n,t){function s(t,r,o){var s;if(document.body)r=typeof r=="number"?{duration:r}:r||{},f=f||n("html, body"),s=r.container||f;else return;typeof t=="number"&&(t={top:t});e&&i&&e.off(u,i);r.wheelBehavior&&r.wheelBehavior!=="none"&&(i=function(n){r.wheelBehavior==="stop"?(s.off(u,i),s.stop()):r.wheelBehavior==="ignore"&&n.preventDefault()},e=s.on(u,i));s.stop().animate({scrollLeft:t.left,scrollTop:t.top},r.duration,function(){i&&s.off(u,i);n.isFunction(o)&&o()})}function o(t){this.options=n.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:"swing",animMode:"duration",animDuration:800,animSpeed:1500,anchorActiveClass:"anchor-active",sectionActiveClass:"section-active",wheelBehavior:"stop",useNativeAnchorScrolling:!1},t);this.init()}var f,r=n(window),e,i,u="onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll";o.prototype={init:function(){this.initStructure();this.attachEvents()},initStructure:function(){this.container=this.options.container?n(this.options.container):n("html,body");this.scrollContainer=this.options.container?this.container:r;this.anchorLinks=n(this.options.anchorLinks)},getAnchorTarget:function(t){var i=n(t).attr("href");return n(i.length>1?i:"html")},getTargetOffset:function(n){var t=n.offset().top;return this.options.container&&(t-=this.container.offset().top-this.container.prop("scrollTop")),typeof this.options.extraOffset=="number"?t-=this.options.extraOffset:typeof this.options.extraOffset=="function"&&(t-=this.options.extraOffset(n)),{top:t}},attachEvents:function(){var t=this;if(this.options.activeClasses){this.anchorData=[];this.anchorLinks.each(function(){var r=jQuery(this),u=t.getAnchorTarget(r),i;n.each(t.anchorData,function(n,t){t.block[0]===u[0]&&(i=t)});i?i.link=i.link.add(r):t.anchorData.push({link:r,block:u})});this.resizeHandler=function(){t.recalculateOffsets()};this.scrollHandler=function(){t.refreshActiveClass()};this.recalculateOffsets();this.scrollContainer.on("scroll",this.scrollHandler);r.on("resize",this.resizeHandler)}if(this.clickHandler=function(n){t.onClick(n)},!this.options.useNativeAnchorScrolling)this.anchorLinks.on("click",this.clickHandler)},recalculateOffsets:function(){var t=this;n.each(this.anchorData,function(n,i){i.offset=t.getTargetOffset(i.block);i.height=i.block.outerHeight()});this.refreshActiveClass()},refreshActiveClass:function(){function i(n,i,r){n.toggleClass(t.options.anchorActiveClass,r);i.toggleClass(t.options.sectionActiveClass,r)}var t=this,f=!1,e=this.container.prop("scrollHeight"),o=this.scrollContainer.height(),u=this.options.container?this.container.prop("scrollTop"):r.scrollTop();if(this.options.customScrollHandler){this.options.customScrollHandler.call(this,u,this.anchorData);return}this.anchorData.sort(function(n,t){return n.offset.top-t.offset.top});n.each(this.anchorData,function(n){var h=t.anchorData.length-n-1,r=t.anchorData[h],s=t.options.activeClasses==="parent"?r.link.parent():r.link;u>=e-o?h===t.anchorData.length-1?i(s,r.block,!0):i(s,r.block,!1):!f&&(u>=r.offset.top-1||h===0)?(f=!0,i(s,r.block,!0)):i(s,r.block,!1)})},calculateScrollDuration:function(n){var t;return this.options.animMode==="speed"?(t=Math.abs(this.scrollContainer.scrollTop()-n.top),t/this.options.animSpeed*1e3):this.options.animDuration},onClick:function(n){var i=this.getAnchorTarget(n.currentTarget),t=this.getTargetOffset(i);n.preventDefault();s(t,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(t)})},destroy:function(){this.options.activeClasses&&(r.off("resize",this.resizeHandler),this.scrollContainer.off("scroll",this.scrollHandler));this.anchorLinks.off("click",this.clickHandler)}};n.extend(o,{scrollTo:function(n,t,i){s(n,t,i)}});t.SmoothScroll=o}(jQuery,this),function(n,t,i){function y(n){var t={},r=/^jQuery\d+$/;return i.each(n.attributes,function(n,i){i.specified&&!r.test(i.name)&&(t[i.name]=i.value)}),t}function e(n,t){var u=this,r=i(u);if(u.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),n===!0)return r[0].value=t;r.focus()}else u.value="",r.removeClass("placeholder"),u==v()&&u.select()}function s(){var t,r=this,n=i(r),u=this.id;if(r.value==""){if(r.type=="password"){if(!n.data("placeholder-textinput")){try{t=n.clone().attr({type:"text"})}catch(f){t=i("<input>").attr(i.extend(y(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":n,"placeholder-id":u}).bind("focus.placeholder",e);n.data({"placeholder-textinput":t,"placeholder-id":u}).before(t)}n=n.removeAttr("id").hide().prev().attr("id",u).show()}n.addClass("placeholder");n[0].value=n.attr("placeholder")}else n.removeClass("placeholder")}function v(){try{return t.activeElement}catch(n){}}var h=Object.prototype.toString.call(n.operamini)=="[object OperaMini]",f="placeholder"in t.createElement("input")&&!h,o="placeholder"in t.createElement("textarea")&&!h,c=i.fn,l=i.valHooks,a=i.propHooks,u,r;f&&o?(r=c.placeholder=function(){return this},r.input=r.textarea=!0):(r=c.placeholder=function(){var n=this;return n.filter((f?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),n},r.input=f,r.textarea=o,u={get:function(n){var t=i(n),r=t.data("placeholder-password");return r?r[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":n.value},set:function(n,t){var r=i(n),u=r.data("placeholder-password");return u?u[0].value=t:r.data("placeholder-enabled")?(t==""?(n.value=t,n!=v()&&s.call(n)):r.hasClass("placeholder")?e.call(n,!0,t)||(n.value=t):n.value=t,r):n.value=t}},f||(l.input=u,a.value=u),o||(l.textarea=u,a.value=u),i(function(){i(t).delegate("form","submit.placeholder",function(){var n=i(".placeholder",this).each(e);setTimeout(function(){n.each(s)},10)})}),i(n).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(n,t,i,r,u){function f(t,i){if(i){var r=i.getAttribute("viewBox"),u=n.createDocumentFragment(),f=i.cloneNode(!0);for(r&&t.setAttribute("viewBox",r);f.childNodes.length;)u.appendChild(f.childNodes[0]);t.appendChild(u)}}function o(){var t=this,i=n.createElement("x"),r=t.s;i.innerHTML=t.responseText;t.onload=function(){r.splice(0).map(function(n){f(n[0],i.querySelector("#"+n[1].replace(/(\W)/g,"\\$1")))})};t.onload()}function e(){for(var s,u;s=t[0];){var c=s.parentNode,l=s.getAttribute("xlink:href").split("#"),h=l[0],a=l[1];c.removeChild(s);h.length?(u=r[h]=r[h]||new XMLHttpRequest,u.s||(u.s=[],u.open("GET",h),u.onload=o,u.send()),u.s.push([c,a]),u.readyState===4&&u.onload()):f(c,n.getElementById(a))}i(e)}u&&e()}(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent));$.fn.once=function(n,t){return this.each(function(){$(this).off(n).on(n,t)})};nfcssApp=function(){var k=function(){return typeof history=="undefined"?!1:typeof window.history.replaceState=="undefined"?!1:!0},d=function(){return typeof history=="undefined"?!1:typeof window.history.pushState=="undefined"?!1:!0},vt=function(n){var i="",t,r;i=typeof n=="object"?$(n).val():n;t=document.createElement("textarea");t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=i;document.body.appendChild(t);t.focus();t.select();try{r=document.execCommand("copy");r?u("Copy to clipboard","Text was copied to the clipboard. Just paste it into your document."):u("Copy to clipboard","Text could not be copied to the clipboard. You may highlight the text to copy it.")}catch(f){u("Copy to clipboard","Text could not be copied to the clipboard. You may highlight the text to copy it.")}document.body.removeChild(t)},n={timerId:0,intervalId:0,interval:30,warning:16,session:20,logCount:0,subscription:{},authenticated:!1,showWarning:!0,state:{},nfpaDomain:"",nfcssDomain:""},s=function(t){var r=$(t.currentTarget),i=r.attr("href");$.ajax({type:"POST",url:"/ajax/codehref/"+i,async:!1,success:function(t){if(t.success)$(location).attr("href",t.href);else{var r=n.subscription.Code!=null&&n.subscription.Code.length>0?"My Bookshelf":"NFCSS";u("Error","Code '"+i+"' does not exist in "+r+".")}},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: goToCode - "+n.responseText;console.error(r)}});o(t);t.preventDefault()},h=function(t,i){var c=!1,r,f,l,a,y;if(o(t),t.preventDefault(),r=$(t.currentTarget),r.length>0){if(r.hasClass("active"))f=r.parents("li.nfcss-li").children("panel"),f.length==0&&(f=r.next()),f.remove(),r.removeClass("active");else{var u=r.attr("href").split("#"),e=u[0].replace(".html",""),p=$("#"+e);if($("#"+u[1]).length===0){var w=r.text(),b=r.parents(".inline-section"),v=$(".nfcss-mandatoryintref a.active");if($(".nfcss-mandatoryintref a").removeClass("active"),$(".code-panel").remove(),b.length>0&&v.length>0&&(r=v),f=r.parents("li.nfcss-li").children(".nfcss-li-content").children().last(),f.length==0&&(f=r),r.addClass("active"),p.length>0)$("#"+e+" .close").click();else{l=typeof n.state.editionId=="undefined"||n.state.editionId==null?st(u[0],i):st(u[0]);f.after('<div class="panel panel-default code-panel" id="'+e+'"><div class="panel-heading"><button type="button" class="close" data-target="#'+e+'" data-dismiss="alert"><span class="fa fa-close" aria-hidden="true"><\/span><span class="sr-only">Close<\/span><\/button><h3 class="panel-title">'+w+'<\/h3><\/div><div class="inline-section panel-body">'+l.content+"<\/div><\/div>");$("#"+e+" .close").on("click",function(){r.removeClass("active")});$("#"+e+" a[href^='np_']").on("click",function(n){h(n,l.editionId,l.chapterId)});$("a.code").on("click",function(n){s(n)});$("#"+e+" .inline-section").scrollTo("#"+u[1],{axis:"y",duration:500,offset:-10});c=!0}}else a=$("#"+u[1]).parents(".inline-section"),a.length>0?($(a[0]).scrollTo("#"+u[1],{axis:"y",duration:500,offset:-10}),c=!0):($(".nfcss-mandatoryintref a").removeClass("active"),$(".code-panel").remove(),y=-1*($(".top-block.sticky-column").outerHeight()+10),$.scrollTo("#"+u[1],{axis:"y",duration:500,offset:y}),c=!0);if(c){$(window).click();$("#"+u[1]).hasClass("standard-background")||$("#"+u[1]).addClass("standard-background");$("#"+u[1]).addClass("very-light-gray");setTimeout(function(){$(window).click()},3e3);$(window).one("click",function(){$(".very-light-gray").removeClass("very-light-gray")})}}o(t);t.preventDefault()}return!1},yt=function(n){var f,e;o(n);n.preventDefault();var s=$(n.currentTarget),u=s.attr("href").split("#"),h=u[0].replace(".html","");$("#"+u[1]).length===0?(r(),$.ajax({type:"POST",url:"/ajax/resolve/"+h+"/",success:function(n){window.location.href="/code/"+n.EditionId+"/"+n.ChapterId+"/"+n.SectionId+"/"},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: goToSearchCodeLink - "+n.responseText;console.error(f);i()}})):(f=$("#"+u[1]).parents(".inline-section"),f.length>0?($(f[0]).scrollTo("#"+u[1],{axis:"y",duration:500,offset:-10}),setClick=!0):($(".nfcss-mandatoryintref a").removeClass("active"),$(".code-panel").remove(),e=-1*($(".top-block.sticky-column").outerHeight()+10),$.scrollTo("#"+u[1],{axis:"y",duration:500,offset:e})))},g=function(n){typeof n=="string"&&n.length>0?$("#code-title").html($("#code-title").data("default")+" - "+n):$("#code-title").html($("#code-title").data("default"));$(".btn-top").click()},pt=function(){return(n.session-n.logCount)*n.interval},v=function(n){return n!=null&&n.Id!=null&&n.Id.length>0},nt=function(n){return v(n)?n.Id:""},c=function(n,i,u,f){r();f=f||"/ajax/popup/"+i;var e=$(n);return e.length==0?$.ajax({type:"POST",url:f,async:!1,success:function(i){$("body").append(i);e=$(n);t();typeof u=="function"&&u(e,!0)},error:function(n,i,r){t();var u="Ajax error: "+r+"\nStatus: "+i+"\nText: getPopup - "+n.responseText;console.error(u)}}):(t(),typeof u=="function"&&u(e,!1)),e},o=function(n){n||(n=window.event);n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},tt=function(n){return rt(n,"Sign in error")},rt=function(n,t){return t=t||"Message",'<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><strong>'+t+":<\/strong> "+n+".<\/div>"},wt=function(n,t){return t=t||"Message",'<div class="alert alert-warning alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><strong>'+t+":<\/strong> "+n+".<\/div>"},r=function(n,t,i){r=typeof r=="number"&&r>=0?r:2e3;n=n||"";var u=t?" clear":"",o=i?" empty":"",f=$('<div class="message-wait-overlay'+u+'" id="message-wait-overlay"><\/div>').css({display:"none"}),r=$('<div class="message-wait" id="message-wait"><\/div>').css({display:"none"}),e=typeof n=="string"&&n.length>0?$('<div class="message-wait-message" id="message-wait-message"><\/div>').text(n).css({display:"none"}):$("<div><\/div>").css({display:"none"});$("body").prepend(e).prepend(r).prepend(f);$("#message-wait-overlay").delay(r).fadeIn("slow",function(){$("#message-wait").show();$("#message-wait-message").show()})},t=function(){$("#message-wait-message").length>0&&$("#message-wait-message").remove();$("#message-wait").length>0&&$("#message-wait").remove();$("#message-wait-overlay").length>0&&$("#message-wait-overlay").remove()},f=function(){typeof n.timerId=="number"&&n.timerId>0&&(clearTimeout(n.timerId),n.timerId=0)},e=function(n){var t=$(n);if(t.length>0)$(n).find("form input").on("keypress",function(t){return t.which&&t.which==13||t.keyCode&&t.keyCode==13?($(n).find("form input").off("keypress"),$("[type=submit].default, button.default").click(),!1):!0})},bt=function(){(event.which&&event.which==13||event.keyCode&&event.keyCode==13)&&b(id,function(){var u=$(id+" [name='searchLocation']:checked").val(),i=$(id+" #searchString").val(),f=$(id+" [name='searchType']:checked").val(),t="",r;t=typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?"/code/search/"+n.state.editionId+"/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0?"/code/search/"+n.state.editionId+"/"+n.state.chapterId+"/":typeof n.state.editionId=="string"&&n.state.editionId.length>0?"/code/search/"+n.state.editionId+"/":"/code/search/";r=new RegExp("&","g");i=encodeURI(i.replace(r,"^and^"));t=t+"?query="+i+"&location="+u+"&type="+f;window.location.href=t},function(){window.setTimeout(function(){$(id+" .form-group").removeClass("has-error");$(id+" .form-group .help-block.with-errors").html("")},5e3)})},ut=function(){n.authenticated&&(!n.ipOrReferrerAuthenticated||v(n.subscription))&&(f(),$.ajax({type:"POST",url:"/ajax/pagelog",cache:!1,dataType:"json",data:{count:n.logCount,subscriptionId:nt(n.subscription)},success:function(t){console.log("Heartbeat: logCount = "+n.logCount);n.authenticated!=t.authenticated||v(n.subscription)!=v(t.subscription)||nt(n.subscription)!=nt(t.subscription)?(r(),$(location).attr("href","/account/logout/?message=SessionLogoutContent")):t.success?(n.authenticated=t.authenticated,n.subscription=t.subscription,kt(t.warn),n.logCount+=1):(n.authenticated=t.authenticated,n.subscription={},n.logCount=0)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: ajaxHeartbeat - "+n.responseText;console.error(r)},complete:function(){i()}}))},kt=function(t){var i=pt();(n.showWarning||t)&&i<=30&&n.intervalId!=2?(console.log("SessionTimedOutContent: warn = "+t+", intervalId = "+n.intervalId+", timeout = "+i),n.intervalId=2,a("SessionTimedOutContent",0,function(){n.intervalId=0;window.location.reload(!0)})):t&&n.intervalId<1&&i>=0&&(console.log("SessionWarningContent: warn = "+t+", intervalId = "+n.intervalId+", timeout = "+i),n.intervalId=1,a("SessionWarningContent",0,function(){clearInterval(n.intervalId);n.intervalId=0}),gt(i))},i=function(){n.timerId=window.setTimeout(function(){n.timerId=0;ut(n.logCount)},n.interval*1e3)},l=function(t){var r=$(t.currentTarget),i=r.attr("data-url");return typeof i!="string"&&(i=r.attr("href")),(typeof i=="undefined"||i.length==0||i=="current")&&(i=window.location.href),f(),typeof i=="string"&&(n.authenticated?r.data("subscription")==!0?n.subscription&&n.subscription.Id?window.location.href=i:ft(i):window.location.href=i:alert("Please sign in to access your National Fire Codes Subscription")),!1},dt=function(n,t){$.ajax({type:"POST",url:"/ajax/message/"+n,dataType:"json",data:{},success:function(n){t(n)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: getContent- "+n.responseText;console.error(r)}})},gt=function(t){var f=Date.now(),u,i,r;n.intervalId=setInterval(function(){u=t-((Date.now()-f)/1e3|0);i=parseInt(u/60,10);r=parseInt(u%60,10);i=i<10?"0"+i:i;r=r<10?"0"+r:r;i<=0?$("#timeLabel").text("seconds"):$("#timeLabel").text("minutes");$("#timeContent").text(i+":"+r)},1e3)},ni=function(n){var t={};return $.ajax({type:"POST",url:"/ajax/message/"+n,async:!1,dataType:"json",data:{},success:function(n){n.success&&(t=n.data)},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: getStaticContent - "+n.responseText;console.error(r)}}),t},ft=function(t){n.currentStatus!=="NoLicense"?a(n.expiredTrial?"FreeTrialExpiredContent":n.emailValidated?"NoSubscriptionContent":"EmailValidationContent"):($("#aquireModal").remove(),c("#aquireModal","_PopupAquire",function(n){e(n);n.find(".fancy-box-message").html("");n.find("#acquireSubmit").on("click",function(){$(location).attr("href","/account/acquire/?returnUrl="+t+"&force=true")});n.find("#acquireCancel").on("click",function(){$.fancybox.close(!0)});$.fancybox.open({href:"#aquireModal",type:"inline",autoSize:!1,autoHeight:!0,width:500,topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterClose:function(){$(location).attr("href","/account/logout/")},helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})}))},ti=function(n,t,i,r){window.location.href=i+"/login?npg="+r+n},fr=function(){var u=$("#loginModal"),o,f;if(u.find(".fancy-box-message").html(""),o=u.find("#user-text").val(),f=u.find("#password-text").val(),typeof o!="string"||URIError.length<1||typeof f!="string"||f.length<1){u.find(".fancy-box-message").html(tt("Username or password may not be blank"));e(u);return}r("",!0);n.logCount=0;$.ajax({type:"POST",url:"/ajax/login",cache:!1,dataType:"json",data:{username:o,password:f},success:function(n){n.success?(t(),u.modal("hide"),window.location.href=n.href=="current"?window.location.href:n.href):(u.find(".fancy-box-message").html(tt("Username or password is incorrect")),e(u),t(),i())},error:function(n,r,f){var o="Ajax error: "+f+"\nStatus: "+r+"\nText: getAuthentiationResults - "+n.responseText;console.error(o);e(u);t();i()}})},ii=function(u){var f=$("#user-input").val(),e=$("#password-input").val();if($("#user-input").val(""),$("#password-input").val(""),(typeof f!="string"||f.length<1)&&(typeof e!="string"||e.length<1)){l(u);return}if(typeof f!="string"||f.length<1||typeof e!="string"||e.length<1){l(u,"Username or password may not be blank");return}r();n.logCount=0;$.ajax({type:"POST",url:"/ajax/login",cache:!1,dataType:"json",data:{username:f,password:e},success:function(n){n.success?(t(),window.location.href=n.href==="current"?window.location.href:n.href):(t(),i(),l(u,"Username or password is incorrect"))},error:function(n,r,f){var e="Ajax error: "+f+"\nStatus: "+r+"\nText: getAuthResults - "+n.responseText;console.error(e);t();i();l(u,"Username or password is incorrect")}})},y=function(u){f();r();n.logCount=0;$.ajax({type:"POST",url:"/code/codedisclaimer",cache:!1,dataType:"json",data:{id:u.editionId},success:function(n){t();$("#chapter-content").html(n.content);$(".info-links").addClass("disabled");$(document.body).trigger("sticky_kit:recalc");i()},error:function(n,r,u){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetEdition - "+n.responseText;console.error(f);t();i()}});g()},ri=function(t){var r=$(t.currentTarget),i={editionId:r.data("editionId"),chapterId:"",sectionId:"",title:""};n.state=i;y(i);d()&&window.history.pushState(i,"","/code/"+i.editionId+"/");$("[data-toggle=offcanvas]").removeClass("active");$(".row-offcanvas").removeClass("active");o(t)},it=function(n,t){$(".info-links").removeClass("disabled");$(document.body).trigger("sticky_kit:recalc");$("a[href^='np_']").once("click",function(i){h(i,n,t)});$("a.code").once("click",function(n){s(n)});i()},ui=function(n,t){$(".info-links").removeClass("disabled");$(document.body).trigger("sticky_kit:recalc");$("a[href^='np_']").once("click",function(i){h(i,n,t)});$("a.code").once("click",function(n){s(n)})},fi=function(n,t){for(var i=0;i<t.length;i++)if(t[i]==n)return t.length<=i+1?null:t[i+1];return null},et=function(n,r,u,f,e,o){$.ajax({type:"POST",url:"/code/streamrootsection",cache:!1,dataType:"json",data:{editionId:e,chapterId:o,sectionId:n,loadCustomList:ShowCustomList()},success:function(t){$("#chapter-content").attr("data-chapter-name",t.chapterName).attr("data-section-name",t.sectionName).append(t.content);ui(e,o);var i=fi(n,f);i!=null?et(i,r,u,f,e,o):it(e,o)},error:function(n,r,u){if(n.statusText!="abort"){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: getRootSection - "+n.responseText;console.error(f)}t();i()}})},p=function(u){f();r();n.logCount=0;abort();$.ajax({type:"POST",url:"/code/asyncchapter",cache:!1,dataType:"json",data:{editionId:u.editionId,chapterId:u.chapterId,loadCustomList:ShowCustomList()},success:function(n){t();$("#chapter-content").attr("data-chapter-name",n.chapterName).attr("data-section-name",n.sectionName).html("");n.cacheContent!=""?($("#chapter-content").attr("data-chapter-name",n.chapterName).attr("data-section-name",n.sectionName).append(n.cacheContent),it(u.editionId,u.chapterId)):n.content.length>0?et(n.content[0],n.chapterName,n.sectionName,n.content,u.editionId,u.chapterId):it(u.editionId,u.chapterId)},error:function(n,r,u){if(n.statusText!="abort"){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: getChapter - "+n.responseText;console.error(f)}t();i()}});g(u.title)},ot=function(t){var r=$(t.currentTarget),i={editionId:r.data("editionId"),chapterId:r.data("chapterId"),sectionId:"",title:r.data("chapterTitle")};n.state=i;p(i);d()&&window.history.pushState(i,"","/code/"+i.editionId+"/"+i.chapterId+"/");$("[data-toggle=offcanvas]").removeClass("active");$(".row-offcanvas").removeClass("active");o(t)},ei=function(){var t=n.state;t.chapterId==""?y(t):t.sectionId==""?p(t):w(t)},w=function(u){f();r();n.logCount=0;$.ajax({type:"POST",url:"/code/section",cache:!1,dataType:"json",data:{editionId:u.editionId,chapterId:u.chapterId,sectionId:u.sectionId,loadCustomList:ShowCustomList()},success:function(n){t();$("#chapter-content").attr("data-chapter-name",n.chapterName).attr("data-section-name",n.sectionName).html(n.content);$(".info-links").removeClass("disabled");$(document.body).trigger("sticky_kit:recalc");$("a[href^='np_']").on("click",function(n){h(n,u.editionId,u.chapterId)});$("a.code").on("click",function(n){s(n)});i()},error:function(n,r,u){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetSection - "+n.responseText;console.error(f);t();i()}});g(u.title)},oi=function(t){var r=$(t.currentTarget),i={editionId:r.data("editionId"),chapterId:r.data("chapterId"),sectionId:r.data("sectionId"),title:r.data("chapterTitle")};n.state=i;w(i);d()&&window.history.pushState(i,"","/code/"+i.editionId+"/"+i.chapterId+"/"+i.sectionId+"/");$("[data-toggle=offcanvas]").removeClass("active");$(".row-offcanvas").removeClass("active");o(t)},st=function(u,e){var s="",o;return s=typeof e=="undefined"||e===null?n.state.editionId:e,o={},f(),r(),n.logCount=0,$.ajax({type:"POST",url:"/code/file",cache:!0,async:!1,dataType:"json",data:{editionId:s,name:u},success:function(n){t();i();o=n},error:function(){t();i()}}),o},si=function(n){var f=$(n.currentTarget),u=$(f.data("tab")),e=u.attr("id"),s=u.data("loaded"),h=u.data("codeId");s||(r(null,!1,!0),$.ajax({type:"POST",url:"/ajax/supplement/"+h+"/?parentId="+e,success:function(n){t();u.html(n);u.data("loaded",!0)},error:function(n,r,u){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: getSupplement - "+n.responseText;console.error(f);t();i()}}));o(n)},u=function(n,t,i,r){var u=$("<div><\/div>").append($('<div class="fancy-box" role="dialog"><\/div>').append($('<div class="fancy-box-header"><h4 class="content-title">'+n+'<\/h4><p class="fancy-box-message"><\/p><\/div>')).append($('<div class="fancy-box-content">'+t+"<\/div>").append($('<div class="fancy-box-buttons"><button type="button" class="btn btn-link" id="fancyAlertSubmit" onclick="$.fancybox.close(true)">Ok<\/button>'))));$.fancybox.open({content:u.html(),type:"inline",autoSize:!1,width:500,height:"auto",topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterClose:typeof r=="function"?r:null,helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}});typeof i=="number"&&i>0&&setTimeout(function(){$.fancybox.close(!0)},i*1e3)},a=function(n,t,i){dt(n,function(n){n.success&&u(n.data.PageTitle||"",n.data.Content,t,i)})},ht=function(n){typeof n=="string"&&n.length>0&&$.ajax({type:"POST",url:"/ajax/securecenter/logexport/"+n,dataType:"json",async:!1,data:{},success:function(n){var t=n.success},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: logExport - "+n.responseText;console.error(r)}})},hi=function(n,t){var i=!1;return $.ajax({type:"POST",url:"/ajax/watermark",dataType:"json",async:!1,data:{company:n,user:t},success:function(n){i=n.save},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: ajaxwatermark - "+n.responseText;console.error(r)}}),i},ci=function(n){var i=$(n.currentTarget),t;if(i.length>0){var r=i.data("downloadUrl"),e=i.data("target"),f="";if(i.attr("data-file-name")&&(f=i.data("file-name")),r.indexOf("id=nodownload")>-1){u("Download Error",'A subscription to NFCSS is required to download content. To purchase a subscription, please visit <a href="http://catalog.nfpa.org/National-Fire-Codes-Subscription-New-or-Renew-C207.aspx" target="_blank">NFPA\'s online catalog<\/a>, or contact NFPA customer service at: 1-800-344-3555 / 617-770-3000 (International) Monday through Friday, 8:30 am to 5:00 pm ET.');return}ht(i.data("editionId"));e=="_blank"?(t=document.createElement("a"),t.target="_new",t.href=r,document.body.appendChild(t),t.click(),document.body.removeChild(t)):(t=document.createElement("a"),t.download=f!=""?f:"PDF",t.href=r,document.body.appendChild(t),t.click(),document.body.removeChild(t))}},er=function(t,i,r,u,f){var s=$("#watermarkModal"),c,h,o;if(s.find(".fancy-box-message").html(""),c=s.find("#purchaser-text").val(),h=s.find("#user-text").val(),typeof h!="string"||h.length<1){s.find(".fancy-box-message").html(tt("Designated User may not be blank"));e(s);return}n.subscription.HasWatermark=!0;ht(i);$.fancybox.close(!0);hi(c,h)?u=="_blank"?(o=document.createElement("a"),o.target="_blank",o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)):(o=document.createElement("a"),o.download=f!=""?f:"PDF",o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)):u=="_blank"?(o=document.createElement("a"),o.target="_blank",o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)):(o=document.createElement("a"),o.download=f!=""?f:"PDF",o.href=r+"&user="+h,document.body.appendChild(o),o.click(),document.body.removeChild(o))},li=function(){r();var u=$("#eulaSubmit"),f=u.data("nextUrl");$.ajax({type:"POST",url:"/ajax/eula",cache:!1,dataType:"json",data:{subscriptionId:n.subscription.Id,accept:!0},success:function(){t();$(location).attr("href",f)},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: getEulaResults - "+n.responseText;console.error(f);i()}})},ai=function(n){n.state&&(typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?w(n.state):typeof n.state.chapterId=="string"&&n.state.chapterId.length>0?p(n.state):y(n.state))},vi=function(){if($("#filter").val().length>0){var n=$("#filter").val().toLowerCase(),t=$("#code-list li .main-opener");$.each($("#code-list li .main-opener"),function(t,i){var r=$(i).text().toLowerCase(),u=r.indexOf(n);r.indexOf(n)===-1?$(i).parent().hide():$(i).parent().show()})}else $("#code-list li").show()},yi=function(){var t="";t=typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?"/printpreview/"+n.state.editionId+"/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0?"/printpreview/"+n.state.editionId+"/"+n.state.chapterId:"/printpreview/"+n.state.editionId;$.fancybox.open({href:t,type:"iframe",autoSize:!0,margin:[50,20,20,20],padding:"25px",loop:!1,helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})},pi=function(){$("#emailModal").remove();var t="/ajax/email";typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?t+="/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0&&(t+="/"+n.state.chapterId);c("#emailModal","_PopupEmail",function(n){n.find(".fancy-box-message").html("");n.find("#emailSubmit").off("click").on("click",function(){b("#sendEmailForm",function(){wi()})});n.find("#emailPreview").off("click").on("click",function(){b("#sendEmailForm",function(){bi()})});e(n);$.fancybox.open({href:"#emailModal",type:"inline",autoSize:!1,height:"auto",width:600,topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterShow:function(){$("#user-text").focus()},helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})},t)},wi=function(){var i="/ajax/emailshare",f;typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?i+="/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0&&(i+="/"+n.state.chapterId);f={yourName:$("#your-name").val(),yourEmail:$("#your-email").val(),recipientName:$("#recipient-name").val(),recipientEmail:$("#recipient-email").val(),messageText:$("#message-text").val()};$.fancybox.close(!0);$("#emailModal").remove();r();$.ajax({type:"POST",url:i,dataType:"json",data:f,async:!1,success:function(n){var i="Email sent...";n.success||(i="Email failed to send...");t();u("Email Sent",i)},error:function(n,i,r){t();var u="Ajax error: "+r+"\nStatus: "+i+"\nText: showEmailResults - "+n.responseText;console.error(u)}})},bi=function(){if($("#emailModal .email-preview").hasClass("closed")){$("#emailPreviewFrom").html("&quot;"+$("#your-name").val()+"&quot; &lt;"+$("#your-email").val()+"&gt;");$("#emailPreviewTo").html("&quot;"+$("#recipient-name").val()+"&quot; &lt;"+$("#recipient-email").val()+"&gt;");var r=ni("ShareEmailContent"),t=r.Content,i=r.PageTitle,u=$("#emailPreviewSubject").data("codeName"),n=new RegExp("##yourName##","g");t=t.replace(n,$("#your-name").val());i=i.replace(n,$("#your-name").val());n=new RegExp("##recipientName##","g");t=t.replace(n,$("#recipient-name").val());i=i.replace(n,$("#recipient-name").val());n=new RegExp("##codeName##","g");t=t.replace(n,u);i=i.replace(n,u);n=new RegExp("##codeName##","g");t=t.replace(n,$("#code-title").data("codeName"));i=i.replace(n,$("#code-title").data("codeName"));n=new RegExp("##editionName##","g");t=t.replace(n,$("#code-title").data("editionYear")+" Edition");n=new RegExp("##chapterName##","g");t=t.replace(n,$("#chapter-content").attr("data-chapter-name"));n=new RegExp("##codeLink##","g");t=t.replace(n,"<a href='#'>Code link inserted here<\/a>");n=new RegExp("##message##","g");t=t.replace(n,$("#message-text").val().replace(/\r\n|\r|\n/g,"<br />"));$("#emailPreviewMessage").html(t);$("#emailPreviewSubject").html(i);$("#emailPreviewSubject").attr("title",i);$("#emailPreview").html("Edit");$("#emailModal .email-preview").removeClass("closed")}else $("#emailPreview").html("Preview"),$("#emailModal .email-preview").addClass("closed")},b=function(n,t,i){$(n+"[data-toggle='validator']").validator("validate");var r=$(".form-group.has-error");r.length===0?typeof t=="function"&&t(n):typeof i=="function"&&i(n)},ki=function(){$("#bookmarkModal").remove();var t="/ajax/bookmark";typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?t+="/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0&&(t+="/"+n.state.chapterId);c("#bookmarkModal","_PopupBookmark",function(n){n.find(".fancy-box-message").html("");n.find("#bookmarkSubmit").off("click").on("click",function(){ct()});e(n);$.fancybox.open({href:"#bookmarkModal",type:"inline",autoSize:!1,height:"auto",width:600,topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterShow:function(){$("#user-text").focus()},helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})},t)},ct=function(t,i){t=t||"Bookmark";i=i||{id:$("#bookmarkId").val(),note:$("#bookmarkContent").val()};var r="/ajax/bookmark";typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?r+="/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0&&(r+="/"+n.state.chapterId);$.ajax({type:"PUT",url:r,cache:!1,dataType:"json",data:i,success:function(n){$.fancybox.close(!0);n.success?u(t,t+' saved. <a href="javascript:void(0);" onclick="location.href=\'/favorite\'">Go to My Favorites...<\/a>'):u(t,"Unable to create "+t+".")},error:function(n,t,i){$.fancybox.close(!0);var r="Ajax error: "+i+"\nStatus: "+t+"\nText: ajaxSaveBookmark - "+n.responseText;console.error(r)}})},di=function(n){$.ajax({type:"DELETE",url:"/ajax/bookmark/"+n,cache:!1,dataType:"json",async:!1,data:{},success:function(){$("#bookmarkTable").bootstrapTable("refresh")},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: ajaxDeleteBookmark - "+n.responseText;console.error(r)}})},gi=function(){lt(n.state.chapterId,n.state.sectionId)},lt=function(n,t){$("#citationModal").remove();var i="/ajax/citation";typeof t=="string"&&t.length>0?i+="/"+n+"/"+t+"/":typeof n=="string"&&n.length>0&&(i+="/"+n);c("#citationModal","_PopupCitation",function(n){n.find(".fancy-box-message").html("");n.find("#citationSubmit").off("click").on("click",function(){ct("Citation",{id:0,note:"Saved for citation"})});e(n);$.fancybox.open({href:"#citationModal",type:"inline",autoSize:!1,height:"auto",width:600,topRatio:.125,padding:"25px",closeBtn:!0,loop:!1,afterShow:function(){$("#user-text").focus()},helpers:{overlay:{css:{background:"rgba(230, 230, 230, 0.75)"}}}})},i)},nr=function(t){if(typeof n.state.chapterId!="string"||n.state.chapterId.length===0)return!1;var i=$(t.currentTarget);i.hasClass("info-link-print")?yi(t):i.hasClass("info-link-email")?pi(t):i.hasClass("info-link-bookmark")?ki(t):i.hasClass("info-link-citation")&&gi(t)},at=function(){$.ajax({type:"POST",url:"/ajax/bookmark",cache:!1,dataType:"json",data:{},success:function(n){$("#bookmarkTable").bootstrapTable("load",n)},error:function(n,r,u){var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxLoadBookmark - "+n.responseText;console.error(f);t();i()}})},tr=function(n,u){n=n||"#searchContent";r();$.ajax({type:"POST",url:"/ajax/search",success:function(i){$(n).html(i);t();u==1&&$("#code0button").trigger("click")},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetSearchResults - "+n.responseText;console.error(f);i()}})},ir=function(n,u,f,e){$(u).data("loaded")!="true"&&(r(),$.ajax({type:"POST",url:"/ajax/searchcode/"+n,success:function(n){$(u).data("loaded","true");$(u).html(n);t();f==1&&$("#"+e+"edition0button").trigger("click")},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetSearchResultsForCode - "+n.responseText;console.error(f);i()}}))},rr=function(n,u){$(u).data("loaded")!="true"&&(r(),$.ajax({type:"POST",url:"/ajax/searchedition/"+n,success:function(n){$(u).data("loaded","true");$(u).html(n);t()},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetSearchResultsForEdition - "+n.responseText;console.error(f);i()}}))},ur=function(n,u,f){$(f).data("loaded")!="true"&&(r(),$.ajax({type:"POST",url:"/ajax/searchchapter/"+n+"/"+u,success:function(i){$(f).data("loaded","true");$(f).html(i);$(f+" a[href^='np_']").on("click",function(t){yt(t,n,u)});$("a.code").on("click",function(n){s(n)});t()},error:function(n,r,u){t();var f="Ajax error: "+u+"\nStatus: "+r+"\nText: ajaxGetSearchResultsForChapter - "+n.responseText;console.error(f);i()}}))};return{search:function(t){b(t,function(){var f=$(t+" [name='searchLocation']:checked").val(),r=$(t+" #searchString").val(),e=$(t+" [name='searchType']:checked").val(),i="",u;i=typeof n.state.sectionId=="string"&&n.state.sectionId.length>0?"/code/search/"+n.state.editionId+"/"+n.state.chapterId+"/"+n.state.sectionId+"/":typeof n.state.chapterId=="string"&&n.state.chapterId.length>0?"/code/search/"+n.state.editionId+"/"+n.state.chapterId+"/":typeof n.state.editionId=="string"&&n.state.editionId.length>0?"/code/search/"+n.state.editionId+"/":"/code/search/";u=new RegExp("&","g");r=encodeURI(r.replace(u,"^and^"));i=i+"?query="+r+"&location="+f+"&type="+e;window.location.href=i},function(){window.setTimeout(function(){$(t+" .form-group").removeClass("has-error");$(t+" .form-group .help-block.with-errors").html("")},5e3)})},showMessage:function(n,t,i){$(n).html(wt(t));typeof i=="number"&&i>0&&setTimeout(function(){$(n).html("")},i*1e3)},showAlertMessage:function(n,t,i){$(n).html(rt(t));typeof i=="number"&&i>0&&setTimeout(function(){$(n).html("")},i*1e3)},acceptEula:function(){li()},declineEula:function(){a("EULADeclineContent")},deleteBookmark:function(n){di(n);at()},loadBookmark:function(){at()},loadCitation:function(n,t){lt(n,t)},navigateEdition:function(n){event.stopPropagation();location.href="/code/"+n},navigateChapter:function(n,t){event.stopPropagation();location.href="/code/"+n+"/"+t},getEditionContent:function(t,i,r){var e,u,s,f,h,o;return typeof r=="string"&&r.length>0?(e=$(".section-trigger[data-section-id='"+r+"']"),u={editionId:e.data("editionId"),chapterId:e.data("chapterId"),sectionId:e.data("sectionId"),title:e.data("chapterTitle")},n.state=u,w(u),k()&&window.history.replaceState(u,"","/code/"+u.editionId+"/"+u.chapterId+"/"+u.sectionId+"/")):typeof i=="string"&&i.length>0?(s=$(".chapter-trigger[data-chapter-id='"+i+"']"),f={editionId:s.data("editionId"),chapterId:s.data("chapterId"),sectionId:"",title:s.data("chapterTitle")},n.state=f,p(f),k()&&window.history.replaceState(f,"","/code/"+f.editionId+"/"+f.chapterId+"/")):(h=$(".disclaimer-trigger[data-edition-id='"+t+"']"),o={editionId:h.data("editionId"),chapterId:"",sectionId:"",title:""},n.state=o,y(o),k()&&window.history.replaceState(o,"","/code/"+o.editionId+"/")),this},getPopup:function(n,t,i){return c(n,t,i)},showWaitOverlay:function(n,t){return r(n,null,null,t),this},closeWaitOverlay:function(){return t(),this},heartbeat:function(){return ut(n.logCount),this},resetLogCount:function(){return n.logCount>0&&(n.logCount=0),this},clearTimer:function(){return f(),this},showAuthentication:function(n){return ti(n),this},showSubscription:function(n){return ft(n),this},showEula:function(n,t){return ajaxShowEula(n,t),this},showAlert:function(n,t){return u(n,t),this},copy:function(n){vt(n)},aquireLicense:function(){},submitOnEnter:function(n){return e(n),this},clickOnEnter:function(n){return bt(n),this},getSearch:function(n,t){return tr(n,t),this},getEditionSearch:function(n,t,i,r){return ir(n,t,i,r),this},getChapterSearch:function(n,t){return rr(n,t),this},getSectionSearch:function(n,t,i){return ur(n,t,i),this},nextSearchHit:function(n){var i=$(n+" .inline-section .search-hit.active"),t=1,r;i.length>0&&(t=i.data("matchCounter"));t=t>0?t+1:1;r=$(n+" .inline-section .search-hit[data-match-counter='"+t+"']");r.length>0&&($(n+" .inline-section .search-hit").removeClass("active"),$(n+" .inline-section .search-hit[data-match-counter='"+t+"']").addClass("active"),$(n+" .inline-section").scrollTo(".search-hit[data-match-counter='"+t+"']",{axis:"y",duration:500,offset:-10}))},previousSearchHit:function(n){var i=$(n+" .inline-section .search-hit.active"),t=1,r;i.length>0&&(t=i.data("matchCounter"));t=t>1?t-1:1;r=$(n+" .inline-section .search-hit[data-match-counter='"+t+"']");r.length>0&&($(n+" .inline-section .search-hit").removeClass("active"),$(n+" .inline-section .search-hit[data-match-counter='"+t+"']").addClass("active"),$(n+" .inline-section").scrollTo(".search-hit[data-match-counter='"+t+"']",{axis:"y",duration:500,offset:-10}))},nextSearchSection:function(n){var i=$(n+" .inline-section *[data-section-hit].active"),t=1,r;i.length>0&&(t=i.data("sectionHit"));t=t>0?t+1:1;r=$(n+" .inline-section *[data-section-hit='"+t+"']");r.length>0&&($(n+" .inline-section *[data-section-hit]").removeClass("active"),$(n+" .inline-section *[data-section-hit='"+t+"']").addClass("active"),$(n+" .inline-section").scrollTo("*[data-section-hit='"+t+"']",{axis:"y",duration:500,offset:-10}))},previousSearchSection:function(n){var i=$(n+" .inline-section *[data-section-hit].active"),t=1,r;i.length>0&&(t=i.data("sectionHit"));t=t>1?t-1:1;r=$(n+" .inline-section *[data-section-hit='"+t+"']");r.length>0&&($(n+" .inline-section *[data-section-hit]").removeClass("active"),$(n+" .inline-section *[data-section-hit='"+t+"']").addClass("active"),$(n+" .inline-section").scrollTo("*[data-section-hit='"+t+"']",{axis:"y",duration:500,offset:-10}))},refresh:function(){ei()},clearSearch:function(){$.ajax({type:"POST",url:"/ajax/clearsearch",cache:!1,dataType:"json",beforeSend:function(){f();r()},success:function(){window.location.href=window.location.href.toLowerCase().indexOf("code/search")==-1||$("input[name='searchLocation']:checked").val()=="2"?"/code/":"/code/"+ +n.state.editionId},error:function(n,t,i){var r="Ajax error: "+i+"\nStatus: "+t+"\nText: nfcssApp.clearSearch - "+n.responseText;console.error(r)},complete:function(){t();i()}})},outsideGoToCodeLink:function(n,t,i){h(n,t,i)},outsideGoToCode:function(n){s(n)},outsideGetChapter:function(n){ot(n)},updateStateAfterSearch:function(t,i,r){t&&(n.state.editionId=t);i&&(n.state.chapterId=i);r&&(n.state.sectionId=r)},Init:function(t){typeof t=="object"?$.extend(n,t):typeof t=="string"&&$.extend(n,JSON.parse(t));$("[data-navigation]").removeClass("active");typeof n.activeNavigation=="string"&&n.activeNavigation.length>0&&$('[data-navigation="'+n.activeNavigation+'"]').addClass("active");$("[data-toggle=offcanvas]").click(function(){$("[data-toggle=offcanvas]").toggleClass("active");$(".row-offcanvas").toggleClass("active")});$("[data-toggle=navopener]").click(function(){$(this).toggleClass("active")});$("[data-watermark]").on("click",function(n){ci(n)});$("[data-authenticate]").on("click",function(n){l(n)});$("[data-auth]").on("click",function(n){ii(n)});$("#user-input, #password-input").on("keyup",function(n){n.which==13&&$("#login-link").click()});$("#searchString").on("keyup",function(n){n.which==13&&$("#advancedSearch").click()});$(".disclaimer-trigger").on("click",function(n){ri(n)});$(".chapter-trigger").on("click",function(n){ot(n)});$(".section-trigger").on("click",function(n){oi(n)});$(".supplement-opener").on("click",function(n){si(n)});$(window).on("beforeunload",function(){f()});$(window).on("scroll, click",function(){n.logCount=0});$(window).on("resize, click",function(){n.logCount=0});window.onpopstate=function(n){ai(n)};$(".info-links a").on("click",function(n){nr(n)});$(".sticky-column").stick_in_parent({parent:".row"});$(".bootstrap-table").bootstrapTable();$("#filter").on("keyup",function(n){vi(n)});return i(),typeof n.userMessage=="string"&&n.userMessage.length>0&&a(n.userMessage),this}}}();xhrPool=[],function(n){n(document).ajaxSend(function(n,t){xhrPool.push(t)});n(document).ajaxComplete(function(t,i){xhrPool=n.grep(xhrPool,function(n){return n!=i})});var t=window.onbeforeunload;window.onbeforeunload=function(){var n=t?t():undefined;return n==undefined&&abort(),n}}(jQuery);$(document).ready(function(){$("#createNewListButton").on("click",function(){NewList()});$("#printListButton").on("click",function(){PrintList()});$("#downloadAsPDFButton").on("click",function(){DownloadList()});$("#duplicateListButton").on("click",function(){Duplicate()});$("#renameListButton").on("click",function(){RenameList()});$(".customListButton").click(function(){$(".customListButton").hasClass("active")?(ClearCurrentList(),HideListSelector()):ShowListSelector()});$(".customListButton").length&&BlockNavigation()});decodeHtmlEntity=function(n){return n.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(t)})},function(n){function e(t){return i?t.data("events"):n._data(t[0]).events}function o(n,t,r){var f=e(n),u=f[t],o;if(!i)return o=r?u.splice(u.delegateCount-1,1)[0]:u.pop(),u.splice(r?0:u.delegateCount||0,0,o),void 0;r?f.live.unshift(f.live.pop()):u.unshift(u.pop())}function t(t,i,r){var u=i.split(/\s+/);t.each(function(){for(var i,t=0;u.length>t;++t)i=n.trim(u[t]).match(/[^\.]+/i)[0],o(n(this),i,r)})}function r(i){n.fn[i+"First"]=function(){var u=n.makeArray(arguments),r=u.shift();return r&&(n.fn[i].apply(this,arguments),t(this,r)),this}}var u=n.fn.jquery.split("."),f=parseInt(u[0]),s=parseInt(u[1]),i=1>f||1==f&&7>s;r("bind");r("one");n.fn.delegateFirst=function(){var i=n.makeArray(arguments),r=i[1];return r&&(i.splice(0,2),n.fn.delegate.apply(this,arguments),t(this,r,!0)),this};n.fn.liveFirst=function(){var t=n.makeArray(arguments);return t.unshift(this.selector),n.fn.delegateFirst.apply(n(document),t),this};i||(n.fn.onFirst=function(i,r){var u=n(this),f="string"==typeof r;if(n.fn.on.apply(u,arguments),"object"==typeof i)for(type in i)i.hasOwnProperty(type)&&t(u,type,f);else"string"==typeof i&&t(u,i,f);return u})}(jQuery)